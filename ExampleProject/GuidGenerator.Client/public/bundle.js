var EntryPoint;(()=>{"use strict";var t={d:(n,e)=>{for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},o:(t,n)=>Object.prototype.hasOwnProperty.call(t,n),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},n={};function e(t){return Array.isArray(t)||ArrayBuffer.isView(t)}function r(t,n){return Object.getPrototypeOf(t).constructor===Object.getPrototypeOf(n).constructor}t.r(n),t.d(n,{connectStreamDeck:()=>Mu,decipherPayload:()=>Cu,errorHandler:()=>Eu,eventPipeline:()=>Iu,messageHandler:()=>Ou,sendToPIHandler:()=>xu,updateLastGeneratedGuid:()=>bu,websocket:()=>Du});class o{constructor(t){this.iter=t}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const t=this.iter.next();return this.current=t.value,!t.done}"System.Collections.IEnumerator.Reset"(){throw new Error("JS iterators cannot be reset")}Dispose(){}}function i(t){return"function"==typeof t.GetEnumerator?t.GetEnumerator():new o(t[Symbol.iterator]())}function s(t){return{[Symbol.iterator](){return this},next(){const n=t["System.Collections.IEnumerator.MoveNext"]();return{done:!n,value:n?t["System.Collections.IEnumerator.get_Current"]():void 0}}}}class u{constructor(t){this.factory=t,this.isValueCreated=!1}get Value(){return this.isValueCreated||(this.createdValue=this.factory(),this.isValueCreated=!0),this.createdValue}get IsValueCreated(){return this.isValueCreated}}function c(t,n){let e=t.toString(10);for(;e.length<n;)e="0"+e;return e}function a(t){const n=t;return"number"==typeof n.offset?n.offset:1===t.kind?0:-6e4*t.getTimezoneOffset()}function l(t,n){return(t=t<0&&null!=n&&10!==n?4294967295+t+1:t).toString(n)}class f{static id(t){return f.idMap.has(t)||f.idMap.set(t,++f.count),f.idMap.get(t)}}function h(t){let n=0,e=5381;const r=t.length;for(;n<r;)e=33*e^t.charCodeAt(n++);return e}function d(t){return 2654435761*t|0}function g(t){return 0===t.length?0:t.reduce(((t,n)=>(t<<5)+t^n))}function p(t){if(null==t)return 0;switch(typeof t){case"boolean":return t?1:0;case"number":return d(t);case"string":return h(t);default:return function(t){return"function"==typeof t.GetHashCode}(t)?t.GetHashCode():e(t)?function(t){const n=t.length,e=new Array(n);for(let r=0;r<n;r++)e[r]=p(t[r]);return g(e)}(t):t instanceof Date?function(t){return t.getTime()}(t):Object.getPrototypeOf(t).constructor===Object?g(Object.values(t).map((t=>p(t)))):d(f.id(t))}}function w(t,n,e){if(null==t)return null==n;if(null==n)return!1;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}function m(t,n){return w(t,n,y)}function y(t,n){return t===n||(null==t?null==n:null!=n&&"object"==typeof t&&(function(t){return"function"==typeof t.Equals}(t)?t.Equals(n):e(t)?e(n)&&m(t,n):t instanceof Date?n instanceof Date&&0===v(t,n):Object.getPrototypeOf(t).constructor===Object&&function(t,n){const e=Object.keys(t),r=Object.keys(n);if(e.length!==r.length)return!1;e.sort(),r.sort();for(let o=0;o<e.length;o++)if(e[o]!==r[o]||!y(t[e[o]],n[r[o]]))return!1;return!0}(t,n)))}function v(t,n){let e,r;return"offset"in t&&"offset"in n?(e=t.getTime(),r=n.getTime()):(e=t.getTime()+a(t),r=n.getTime()+a(n)),e===r?0:e<r?-1:1}function S(t,n){return t===n?0:t<n?-1:1}function b(t,n){return function(t,n,e){if(null==t)return null==n?0:1;if(null==n)return-1;if(t.length!==n.length)return t.length<n.length?-1:1;for(let r=0,o=0;r<t.length;r++)if(o=e(t[r],n[r]),0!==o)return o;return 0}(t,n,C)}function C(t,n){return t===n?0:null==t?null==n?0:-1:null==n?1:"object"!=typeof t?t<n?-1:1:function(t){return"function"==typeof t.CompareTo}(t)?t.CompareTo(n):e(t)?e(n)?b(t,n):-1:t instanceof Date?n instanceof Date?v(t,n):-1:Object.getPrototypeOf(t).constructor===Object?function(t,n){const e=Object.keys(t),r=Object.keys(n);if(e.length!==r.length)return e.length<r.length?-1:1;e.sort(),r.sort();for(let o=0,i=0;o<e.length;o++){const s=e[o];if(s!==r[o])return s<r[o]?-1:1;if(i=C(t[s],n[s]),0!==i)return i}return 0}(t,n):-1}function x(t,n,e){return t(n,e)>0?n:e}f.idMap=new WeakMap,f.count=0;const E=Symbol("curried");function I(t,n){if(null==n||n.length>1)return n;const e=(...e)=>{let r=n;for(let n=0;n<t;n++)r=r(e[n]);return r};return e[E]=n,e}function D(t,n,e){return r=>1===n?e(...t.concat([r])):D(t.concat([r]),n-1,e)}function O(t,n,e){if(null!=n){if(E in n){n=n[E];for(let t=0;t<e.length;t++)n=n(e[t]);return n}return D(e,t,n)}}function M(t,n){function e(t,n,r,o){const i=r[o];if(0!==i){const t=i[0],e=i[1];t>1&&(s=t,n=null==(u=n)||1===u.length?u:E in u?u[E]:D([],s,u)),e>1&&(n=I(e,n))}var s,u;const c=t(n);return o+1===r.length?c:t=>e(c,t,r,o+1)}return r=>e(t,r,n,0)}function T(t){const n=t<0,e=(t=Math.abs(t))%36e5/6e4;return(n?"-":"+")+c(~~(t/36e5),2)+":"+c(e,2)}function F(t,n){const e=t.toISOString();return"first"===n?e.substring(0,e.indexOf("T")):e.substring(e.indexOf("T")+1,e.length-1)}function k(t,n,e){return n.replace(/(\w)\1*/g,(n=>{let r=Number.NaN;switch(n.substring(0,1)){case"y":const o=e?t.getUTCFullYear():t.getFullYear();r=n.length<4?o%100:o;break;case"M":r=(e?t.getUTCMonth():t.getMonth())+1;break;case"d":r=e?t.getUTCDate():t.getDate();break;case"H":r=e?t.getUTCHours():t.getHours();break;case"h":const i=e?t.getUTCHours():t.getHours();r=i>12?i%12:i;break;case"m":r=e?t.getUTCMinutes():t.getMinutes();break;case"s":r=e?t.getUTCSeconds():t.getSeconds();break;case"f":r=e?t.getUTCMilliseconds():t.getMilliseconds()}return Number.isNaN(r)?n:r<10&&n.length>1?"0"+r:""+r}))}function P(t,n,e){return null!=t.offset?function(t,n){var e,r,o;const i=new Date(t.getTime()+(null!==(e=t.offset)&&void 0!==e?e:0));if("string"!=typeof n)return i.toISOString().replace(/\.\d+/,"").replace(/[A-Z]|\.\d+/g," ")+T(null!==(r=t.offset)&&void 0!==r?r:0);if(1!==n.length)return k(i,n,!0);switch(n){case"D":case"d":return F(i,"first");case"T":case"t":return F(i,"second");case"O":case"o":return function(t,n){const e=t.toISOString();return e.substring(0,e.length-1)+T(n)}(i,null!==(o=t.offset)&&void 0!==o?o:0);default:throw new Error("Unrecognized Date print format")}}(t,n):function(t,n){const e=1===t.kind;if("string"!=typeof n)return e?t.toUTCString():t.toLocaleString();if(1!==n.length)return k(t,n,e);switch(n){case"D":case"d":return e?F(t,"first"):t.toLocaleDateString();case"T":case"t":return e?F(t,"second"):t.toLocaleTimeString();case"O":case"o":return function(t,n){if(n)return t.toISOString();{const n=null==t.kind||2===t.kind;return c(t.getFullYear(),4)+"-"+c(t.getMonth()+1,2)+"-"+c(t.getDate(),2)+"T"+c(t.getHours(),2)+":"+c(t.getMinutes(),2)+":"+c(t.getSeconds(),2)+"."+c(t.getMilliseconds(),3)+(n?T(-6e4*t.getTimezoneOffset()):"")}}(t,e);default:throw new Error("Unrecognized Date print format")}}(t,n)}const G=Symbol("numeric");function A(t){return"number"==typeof t||(null==t?void 0:t[G])}function N(t,n){return"number"==typeof t?t*n:t[G]().multiply(n)}function R(t,n){return"number"==typeof t?t.toFixed(n):t[G]().toFixed(n)}function _(t,n){return"number"==typeof t?t.toPrecision(n):t[G]().toPrecision(n)}function j(t,n){return"number"==typeof t?t.toExponential(n):t[G]().toExponential(n)}function q(t){return"number"==typeof t?(Number(t)>>>0).toString(16):t[G]().toHex()}function B(t,n=0){if(null!=t&&"object"==typeof t){if("function"==typeof t.toString)return t.toString();if(Symbol.iterator in t)return function(t){let n=0,e="[";for(const r of t){if(0===n)e+=B(r);else{if(100===n){e+="; ...";break}e+="; "+B(r)}n++}return e+"]"}(t);{const e=Object.getPrototypeOf(t).constructor;return e===Object&&n<10?"{ "+Object.entries(t).map((([t,e])=>t+" = "+B(e,n+1))).join("\n  ")+" }":e.name}}return String(t)}class L{get name(){return this.cases()[this.tag]}toJSON(){return 0===this.fields.length?this.name:[this.name].concat(this.fields)}toString(){return function(t,n){if(0===n.length)return t;{let e="",r=!0;return 1===n.length?(e=B(n[0]),r=e.indexOf(" ")>=0):e=n.map((t=>B(t))).join(", "),t+(r?" (":" ")+e+(r?")":"")}}(this.name,this.fields)}GetHashCode(){const t=this.fields.map((t=>p(t)));return t.splice(0,0,d(this.tag)),g(t)}Equals(t){return this===t||!!r(this,t)&&this.tag===t.tag&&m(this.fields,t.fields)}CompareTo(t){return this===t?0:r(this,t)?this.tag===t.tag?b(this.fields,t.fields):this.tag<t.tag?-1:1:-1}}class U{toJSON(){return function(t){const n={},e=Object.keys(t);for(let r=0;r<e.length;r++)n[e[r]]=t[e[r]];return n}(this)}toString(){return t=this,"{ "+Object.entries(t).map((([t,n])=>t+" = "+B(n))).join("\n  ")+" }";var t}GetHashCode(){return t=this,g(Object.values(t).map((t=>p(t))));var t}Equals(t){return function(t,n){if(t===n)return!0;if(r(t,n)){const e=Object.keys(t);for(let r=0;r<e.length;r++)if(!y(t[e[r]],n[e[r]]))return!1;return!0}return!1}(this,t)}CompareTo(t){return function(t,n){if(t===n)return 0;if(r(t,n)){const e=Object.keys(t);for(let r=0;r<e.length;r++){const o=C(t[e[r]],n[e[r]]);if(0!==o)return o}return 0}return-1}(this,t)}}class ${constructor(t,n){"function"==typeof n?(this.getter=t,this.setter=n):(this.getter=()=>t,this.setter=n=>{t=n})}get contents(){return this.getter()}set contents(t){this.setter(t)}}const H=/(^|[^%])%([0+\- ]*)(\*|\d+)?(?:\.(\d+))?(\w)/g,J=/\{(\d+)(,-?\d+)?(?:\:([a-zA-Z])(\d{0,2})|\:(.+?))?\}/g;function z(t,n){return function(t,n){return"number"==typeof t?t<n?-1:t>n?1:0:t.CompareTo(n)}(t,n)<0}function V(t,n,e){function r(t){return!0===t||1===t||3===t||5===t}return null==t?null==n?0:-1:null==n?1:4===(o=e)||5===o?(r(e)&&(t=t.toLowerCase(),n=n.toLowerCase()),t===n?0:t<n?-1:1):(r(e)&&(t=t.toLocaleLowerCase(),n=n.toLocaleLowerCase()),t.localeCompare(n));var o}function W(t){return{input:t,cont:(n=t,t=>{H.lastIndex=0;const e=[],r=[];let o=0,i=H.exec(n);for(;i;){const t=i.index+(i[1]||"").length;e.push(n.substring(o,t).replace(/%%/g,"%")),r.push(i),o=H.lastIndex,H.lastIndex-=1,i=H.exec(n)}return 0===e.length?t(n.replace(/%%/g,"%")):(e.push(n.substring(o).replace(/%%/g,"%")),Y(t,e,r))})};var n}function K(t,n){return"string"==typeof n?t(n):n.cont(t)}function X(t){return K((t=>console.log(t)),t)}function Z(t){return K((t=>t),t)}function Q(t,n,e,r,o){let i="";if(n=n||"",o=o||"",A(t))switch("x"!==o.toLowerCase()&&(z(t,0)?(t=N(t,-1),i="-"):n.indexOf(" ")>=0?i=" ":n.indexOf("+")>=0&&(i="+")),r=null==r?null:parseInt(r,10),o){case"f":case"F":t=R(t,r=null!=r?r:6);break;case"g":case"G":t=null!=r?_(t,r):_(t);break;case"e":case"E":t=null!=r?j(t,r):j(t);break;case"x":t=q(t);break;case"X":t=q(t).toUpperCase();break;default:t=String(t)}else t=t instanceof Date?P(t):B(t);if(e="number"==typeof e?e:parseInt(e,10),isNaN(e))t=i+t;else{const r=n.indexOf("0")>=0,o=n.indexOf("-")>=0,s=o||!r?" ":"0";t="0"===s?i+(t=rt(t,e-i.length,s,o)):rt(i+t,e,s,o)}return t}function Y(t,n,e,r="",o=-1){return(...i)=>{let s=r;const u=n.slice(),c=e.slice();for(const t of i){const[,,n,e,r,i]=c[0];let a=e;if(o>=0)a=o,o=-1;else if("*"===a){if(t<0)throw new Error("Non-negative number required");o=t;continue}s+=u[0],s+=Q(t,n,a,r,i),u.splice(0,1),c.splice(0,1)}return 0===c.length?(s+=u[0],t(s)):Y(t,u,c,s,o)}}function tt(t,...n){return"object"==typeof t&&n.length>0&&(t=n[0],n.shift()),t.replace(J,((t,e,r,o,i,s)=>{let u=n[e];if(A(u))switch(i=null==i?null:parseInt(i,10),o){case"f":case"F":u=R(u,i=null!=i?i:2);break;case"g":case"G":u=null!=i?_(u,i):_(u);break;case"e":case"E":u=null!=i?j(u,i):j(u);break;case"p":case"P":i=null!=i?i:2,u=R(N(u,100),i)+" %";break;case"d":case"D":u=null!=i?rt(String(u),i,"0"):String(u);break;case"x":case"X":u=null!=i?rt(q(u),i,"0"):q(u),"X"===o&&(u=u.toUpperCase());break;default:if(s){let t="";u=s.replace(/([0#,]+)(\.[0#]+)?/,((n,e,r)=>{z(u,0)&&(u=N(u,-1),t="-");const o=null!=r?r.length:0;if(u=R(u,Math.max(o-1,0)),e.indexOf(",")>0){const[t,n]=u.split("."),e=t.length%3,r=Math.floor(t.length/3);let o=e>0?t.substr(0,e)+(r>0?",":""):"";for(let n=0;n<r;n++)o+=t.substr(e+3*n,3)+(n<r-1?",":"");u=n?o+"."+n:o}const i=(e=e.replace(/,/g,"")).length>0&&"0"===e[0]?e.length:0;return rt(u,i-t.length+o,"0")})),u=t+u}}else u=u instanceof Date?P(u,s||o):B(u);return r=parseInt((r||" ").substring(1),10),isNaN(r)||(u=rt(String(u),Math.abs(r)," ",r<0)),u}))}function nt(t,n){const e=t.lastIndexOf(n);return e>=0&&e===t.length-n.length}function et(t,n){return Array.isArray(n)?n.join(t):Array.from(n).join(t)}function rt(t,n,e,r){e=e||" ",n-=t.length;for(let o=0;o<n;o++)t=r?t+e:e+t;return t}class ot extends L{constructor(t,...n){super(),this.tag=0|t,this.fields=n}cases(){return["Ok","Error"]}}function it(t,n){return 0===n.tag?new ot(0,t(n.fields[0])):new ot(1,n.fields[0])}class st extends L{constructor(t,...n){super(),this.tag=0|t,this.fields=n}cases(){return["BadPrimitive","BadPrimitiveExtra","BadType","BadField","BadPath","TooSmallArray","FailMessage","BadOneOf"]}}class ut{constructor(){this.cache=new Map([])}}function ct(){return new ut}ct(),ct();const at=/^[\(\{]{0,2}[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}[\)\}]{0,2}$/,lt=/^([0-9a-f]{8})([0-9a-f]{4})([0-9a-f]{4})([0-9a-f]{4})([0-9a-f]{12})$/,ft=/^\{0x[0-9a-f]{8},(0x[0-9a-f]{4},){2}\{(0x[0-9a-f]{2},){7}0x[0-9a-f]{2}\}\}$/,ht=/^([0-9a-f]{8})-(([0-9a-f]{4})-)(([0-9a-f]{4})-)([0-9a-f]{2})([0-9a-f]{2})-([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/;function dt(t,n,e){if(!(n&&(null==n?void 0:n.length)>0))return t;switch(n){case"N":return t.replace(/-/g,"");case"D":return t;case"B":return"{"+t+"}";case"P":return"("+t+")";case"X":return t.replace(ht,"{0x$1,0x$3,0x$5,{0x$6,0x$7,0x$8,0x$9,0x$10,0x$11,0x$12,0x$13}}");default:throw new Error("Unrecognized Guid print format")}}function gt(t,n){try{return n.contents=function(t){function n(t){return t.replace(lt,"$1-$2-$3-$4-$5")}const e=t.trim().toLowerCase();if(at.test(e))return function(t,...n){if(0===n.length)return t.trim();const e="["+function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}(n.join(""))+"]+";return t.replace(new RegExp("^"+e),"").replace(new RegExp(e+"$"),"")}(e,"{","}","(",")");if(lt.test(e))return n(e);if(ft.test(e))return n(e.replace(/[\{\},]|0x/g,""));throw new Error("Guid should contain 32 digits with 4 dashes: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")}(t),!0}catch(t){return!1}}var pt;function wt(t,n){switch(n){case 8:return t?[0,255]:[-128,127];case 16:return t?[0,65535]:[-32768,32767];case 32:return t?[0,4294967295]:[-2147483648,2147483647];default:throw new Error("Invalid bit size.")}}function mt(t,n,e,r,o){try{return o.contents=function(t,n,e,r,o){const i=function(t,n,e){const r=/^\s*([\+\-])?(0[xXoObB])?([0-9a-fA-F]+)\s*$/.exec(t.replace(/_/g,""));if(null!=r){const[,,t,o]=r;if(!function(t){switch(t){case 2:return/[^0-1]/;case 8:return/[^0-7]/;case 10:return/[^0-9]/;case 16:return/[^0-9a-fA-F]/;default:throw new Error("Invalid Base.")}}(e=e||function(t,n){if(n&pt.AllowHexSpecifier)return 16;switch(t){case"0b":case"0B":return 2;case"0o":case"0O":return 8;case"0x":case"0X":return 16;default:return 10}}(t,n)).test(o))return function(t,n){const[,e,r,o]=t;return{sign:e||"",prefix:r||"",digits:o,radix:n}}(r,e)}return null}(t,n,void 0);if(null!=i){let t=Number.parseInt(i.sign+i.digits,i.radix);if(!Number.isNaN(t)){const[n,o]=wt(!0,r);!e&&10!==i.radix&&t>=n&&t<=o&&(t=t<<32-r>>32-r);const[s,u]=wt(e,r);if(t>=s&&t<=u)return t}}throw new Error("Input string was not in a correct format.")}(t,n,e,r),!0}catch(t){return!1}}!function(t){t[t.AllowHexSpecifier=512]="AllowHexSpecifier"}(pt||(pt={}));class yt{constructor(t){this.value=t}toJSON(){return this.value}toString(){return String(this.value)}GetHashCode(){return p(this.value)}Equals(t){return null!=t&&y(this.value,t instanceof yt?t.value:t)}CompareTo(t){return null==t?1:C(this.value,t instanceof yt?t.value:t)}}function vt(t){return null==t||t instanceof yt?new yt(t):t}function St(t){if(null==t)throw new Error("Option has no value");return t instanceof yt?t.value:t}function bt(t,n){return null!=t?St(t):n}function Ct(t,n){return"function"==typeof t?new t(n):new Array(n)}function xt(t,n,e,r){const o=0|n;return t.fill(r,o,o+e)}function Et(t,n,e){const r=0|n.length,o=Ct(e,r);for(let e=0;e<=r-1;e++)o[e]=t(e,n[e]);return o}function It(t,n,e){const r=0|n.length,o=Ct(e,r);for(let e=0;e<=r-1;e++)o[e]=t(n[e]);return o}function Dt(t,n,e){if(t<0)throw new Error("The input must be non-negative\\nParameter name: count");const r=Ct(e,t);for(let e=0;e<=t-1;e++)r[e]=n(e);return r}class Ot extends U{constructor(t,n){super(),this.head=t,this.tail=n}toString(){return"["+et("; ",this)+"]"}Equals(t){return this===t||((t,n)=>{t:for(;;){const e=t,r=n,o=[e.tail,r.tail];if(null!=o[0]){if(null!=o[1]){const i=o[0],s=o[1];if(y(e.head,r.head)){t=i,n=s;continue t}return!1}return!1}return null==o[1]}})(this,t)}GetHashCode(){return 0|((t,n,e)=>{for(;;){const r=t,o=n,i=e,s=i.tail;if(null==s)return 0|o;{const u=s;if(r>18)return 0|o;t=r+1,n=(o<<1)+p(i.head)+631*r,e=u}}})(0,0,this)}toJSON(t){return Array.from(this)}CompareTo(t){return 0|((t,n)=>{t:for(;;){const e=t,r=n,o=[e.tail,r.tail];if(null!=o[0]){if(null!=o[1]){const i=o[0],s=o[1],u=0|C(e.head,r.head);if(0===u){t=i,n=s;continue t}return 0|u}return 1}return null!=o[1]?-1:0}})(this,t)}GetEnumerator(){return new Mt(this)}[Symbol.iterator](){return s(this.GetEnumerator())}"System.Collections.IEnumerable.GetEnumerator"(){return i(this)}}class Mt{constructor(t){this.xs=t,this.it=this.xs,this.current=null}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const t=this,n=t.it.tail;if(null!=n){const e=n;return t.current=t.it.head,t.it=e,!0}return!1}"System.Collections.IEnumerator.Reset"(){const t=this;t.it=t.xs,t.current=null}Dispose(){}}function Tt(){return new Ot(null,void 0)}function Ft(t,n){return new Ot(t,n)}function kt(t){return null==t.tail}function Pt(t){return 0|((t,n)=>{for(;;){const e=t,r=n.tail;if(null==r)return 0|e;t=e+1,n=r}})(0,t)}function Gt(t){if(null!=t.tail)return t.head;throw new Error("Collection was empty.\\nParameter name: list")}function At(t){const n=t.tail;if(null!=n)return n;throw new Error("Collection was empty.\\nParameter name: list")}function Nt(){return Tt()}function Rt(t,n){return Ft(t,n)}function _t(t){return Ft(t,Tt())}function jt(t){return kt(t)}function qt(t){return Gt(t)}function Bt(t){return At(t)}function Lt(t){t:for(;;){const n=t;if(kt(n))return;{const e=At(n);if(kt(e))return vt(Gt(n));t=e;continue t}}}function Ut(t){const n=0|Pt(t),e=xt(new Array(n),0,n,null);return((t,n)=>{for(;;){const r=t,o=n;if(kt(o))break;e[r]=Gt(o),t=r+1,n=At(o)}})(0,t),e}function $t(t,n,e){let r=n,o=e;for(;!kt(o);)r=t(r,Gt(o)),o=At(o);return r}function Ht(t){return $t(((t,n)=>Ft(n,t)),Tt(),t)}function Jt(t,n){$t(((n,e)=>{t(e)}),void 0,n)}function zt(t,n){let e=n;for(let n=t.length-1;n>=0;n--)e=Ft(t[n],e);return e}function Vt(t){return zt(t,Tt())}function Wt(t,n){const e=Tt(),r=$t(((n,e)=>{const r=new Ot(t(e),void 0);return n.tail=r,r}),e,n),o=Tt();return r.tail=o,At(e)}function Kt(){return t=(t,n)=>C(t,n),{Compare:(n,e)=>t(n,e)};var t}function Xt(){throw new Error("Enumeration has not started. Call MoveNext.")}function Zt(){throw new Error("Enumeration already finished.")}class Qt{constructor(t){this.f=t}toString(){let t=0,n="seq [";const e=i(this);try{for(;t<4&&e["System.Collections.IEnumerator.MoveNext"]();)t>0&&(n+="; "),n+=B(e["System.Collections.Generic.IEnumerator`1.get_Current"]()),t=t+1|0;return 4===t&&(n+="; ..."),n+"]"}finally{e.Dispose()}}GetEnumerator(){return this.f()}[Symbol.iterator](){return s(this.GetEnumerator())}"System.Collections.IEnumerable.GetEnumerator"(){return this.f()}}class Yt{constructor(t,n,e){this.current=t,this.next=n,this.dispose=e}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current()}"System.Collections.IEnumerator.get_Current"(){return this.current()}"System.Collections.IEnumerator.MoveNext"(){return this.next()}"System.Collections.IEnumerator.Reset"(){!function(){throw new Error("Reset is not supported on this enumerator.")}()}Dispose(){this.dispose()}}function tn(t,n,e){return new Yt(t,n,e)}function nn(t){return function(t){return new Qt(t)}(t)}function en(t){return n="source",null==t&&function(t){throw new Error(t)}(n),i(t);var n}function rn(t){return nn((()=>i(t())))}function on(t){return nn((()=>function(t){let n,e,r,o=!1,s=!1;const u=()=>{if(s=!0,null!=e){const t=e;try{t.Dispose()}finally{e=void 0}}if(null!=n){const t=n;try{t.Dispose()}finally{n=void 0}}};return tn((()=>(o?s&&Zt():Xt(),null!=r?St(r):Zt())),(()=>{let c;if(o||(o=!0),s)return!1;{let o;for(;null==o;){const s=[n,e];if(null!=s[0])if(null!=s[1]){const t=s[1];if(t["System.Collections.IEnumerator.MoveNext"]())r=vt(t["System.Collections.Generic.IEnumerator`1.get_Current"]()),o=!0;else try{t.Dispose()}finally{e=void 0}}else{const t=s[0];t["System.Collections.IEnumerator.MoveNext"]()?(c=t["System.Collections.Generic.IEnumerator`1.get_Current"](),e=i(c)):(u(),o=!1)}else n=i(t)}return St(o)}}),(()=>{s||u()}))}(t)))}function sn(){return rn((()=>new Array(0)))}function un(t){return rn((()=>function(t,n){const e=Ct(void 0,1);return e[0]=t,e}(t)))}function cn(t){return t instanceof Ot?Ut(t):Array.from(t)}function an(t){return e(t)?Vt(t):t instanceof Ot?t:function(t){let n,r;if(e(t))return Vt(t);if(t instanceof Ot)return t;{const e=Tt();let o=e;const s=i(t);try{for(;s["System.Collections.IEnumerator.MoveNext"]();){const t=s["System.Collections.Generic.IEnumerator`1.get_Current"]();n=o,r=new Ot(t,void 0),n.tail=r,o=r}}finally{s.Dispose()}const u=o,c=Tt();return u.tail=c,At(e)}}(t)}function ln(t,n,e){return nn((()=>function(t,n,e){let r,o=!1,i=vt(t());const s=()=>{if(null!=i){const t=St(i);try{e(t)}finally{i=void 0}}},u=()=>{try{s()}finally{r=void 0}};return tn((()=>(o||Xt(),null!=r?St(r):Zt())),(()=>{if(o||(o=!0),null!=i){const t=St(i);let e;try{e=n(t)}catch(t){throw u(),t}return null!=e?(r=e,!0):(u(),!1)}return!1}),s)}(t,n,e)))}function fn(t,n){return on([t,n])}function hn(t,n,e){const r=en(e);try{let e=n;for(;r["System.Collections.IEnumerator.MoveNext"]();)e=t(e,r["System.Collections.Generic.IEnumerator`1.get_Current"]());return e}finally{r.Dispose()}}function dn(t,n){hn(((n,e)=>{t(e)}),void 0,n)}function gn(t,n){return ln((()=>en(n)),(n=>n["System.Collections.IEnumerator.MoveNext"]()?vt(t(n["System.Collections.Generic.IEnumerator`1.get_Current"]())):void 0),(t=>{t.Dispose()}))}function pn(t,n){return rn((()=>on(gn(t,n))))}function wn(t){return void 0===t}function mn(t,n,e){try{return"Expecting "+t+" but instead got:"+(e?"\n":" ")+JSON.stringify(n,null,4)}catch(n){return"Expecting "+t+" but decoder failed. Couldn't report given value due to circular structure."+(e?"\n":" ")}}function yn(t,n){const e=2===n.tag?mn(n.fields[0],n.fields[1],!0):1===n.tag?mn(n.fields[0],n.fields[1],!1)+"\nReason: "+n.fields[2]:3===n.tag?mn(n.fields[0],n.fields[1],!0):4===n.tag?mn(n.fields[0],n.fields[1],!0)+"\nNode `"+n.fields[2]+"` is unkown.":5===n.tag?"Expecting "+n.fields[0]+".\n"+JSON.stringify(n.fields[1],null,4):7===n.tag?"The following errors were found:\n\n"+et("\n\n",n.fields[0]):6===n.tag?"The following `failure` occurred with the decoder: "+n.fields[0]:mn(n.fields[0],n.fields[1],!1);return 7===n.tag?e:"Error at: `"+t+"`\n"+e}function vn(t,n,e){const r=n(t,e);if(1===r.tag){const t=r.fields[0];return new ot(1,yn(t[0],t[1]))}return new ot(0,r.fields[0])}function Sn(t,n){return"string"==typeof n?new ot(0,n):new ot(1,[t,new st(0,"a string",n)])}Symbol.iterator;const bn=t=>n=>{const e="an int",r=t,o=n;if("number"==typeof o){const t=o;return isFinite(t)&&Math.floor(t)===t?-2147483648<=t&&t<=2147483647?new ot(0,~~t):new ot(1,[r,new st(1,e,t,"Value was either too large or too small for an int")]):new ot(1,[r,new st(1,e,t,"Value is not an integral value")])}if("string"==typeof o){let t,n=0;return t=[mt(o,511,!1,32,new $((()=>n),(t=>{n=0|t}))),n],t[0]?new ot(0,t[1]):new ot(1,[r,new st(0,e,o)])}return new ot(1,[r,new st(0,e,o)])},Cn=t=>n=>{const e="an uint32",r=t,o=n;if("number"==typeof o){const t=o;return isFinite(t)&&Math.floor(t)===t?0<=t&&t<=4294967295?new ot(0,t>>>0):new ot(1,[r,new st(1,e,t,"Value was either too large or too small for "+e)]):new ot(1,[r,new st(1,e,t,"Value is not an integral value")])}if("string"==typeof o){let t,n=0;return t=[mt(o,511,!0,32,new $((()=>n),(t=>{n=t}))),n],t[0]?new ot(0,t[1]):new ot(1,[r,new st(0,e,o)])}return new ot(1,[r,new st(0,e,o)])};function xn(t,n){return"boolean"==typeof n?new ot(0,n):new ot(1,[t,new st(0,"a boolean",n)])}function En(t,n,e){const r=n(t,e);if(1===r.tag){if(null==e)return new ot(0,void 0);if(1===r.tag)return new ot(1,r.fields[0]);throw new Error("Match failure")}return new ot(0,vt(r.fields[0]))}function In(t,n,e){return new ot(1,[bt(n,et(".",Rt("$",t))),new st(4,"an object with path `"+et(".",t)+"`",e,bt(Lt(t),""))])}function Dn(t,n,e,r){const o=e(n,r);return 1===o.tag?(t.push(o.fields[0]),null):o.fields[0]}class On{constructor(t,n){let e,r;this.errors=[],this.required=(e=this,{Field:(r,o)=>Dn(e.errors,t,((t,n)=>function(t,n,e,r){if(null!==r&&Object.getPrototypeOf(r||!1)===Object.prototype){const o=r[t];return wn(o)?new ot(1,[e,new st(3,"an object with a field named `"+t+"`",r)]):n(e+"."+t,o)}return new ot(1,[e,new st(2,"an object",r)])}(r,o,t,n)),n),At:(r,o)=>Dn(e.errors,t,((t,n)=>function(t,n,e,r){const o=$t(I(2,(n=>{const e=n[0],o=n[1],i=n[2];return n=>{if(null==i){if(null==o)return[e,o,In(t,e,r)];if(null!==o&&Object.getPrototypeOf(o||!1)===Object.prototype){const i=o[n];return wn(i)?[e,i,In(t,void 0,r)]:[e+"."+n,i,void 0]}return[e,o,new ot(1,[e,new st(2,"an object",o)])]}return[e,o,i]}})),[e,r,void 0],t);return null==o[2]?n(o[0],o[1]):o[2]}(r,o,t,n)),n),Raw:r=>Dn(e.errors,t,r,n)}),this.optional=(r=this,{Field:(e,o)=>Dn(r.errors,t,((t,n)=>function(t,n,e,r){if(null!==r&&Object.getPrototypeOf(r||!1)===Object.prototype){const o=r[t];return wn(o)?new ot(0,void 0):En(e+"."+t,n,o)}return new ot(1,[e,new st(2,"an object",r)])}(e,o,t,n)),n),At:(e,o)=>Dn(r.errors,t,((t,n)=>function(t,n,e,r){const o=$t(I(2,(t=>{const n=t[0],e=t[1],r=t[2];return t=>null==r?null==e?[n,e,new ot(0,void 0)]:null!==e&&Object.getPrototypeOf(e||!1)===Object.prototype?[n+"."+t,e[t],void 0]:[n,e,new ot(1,[n,new st(2,"an object",e)])]:[n,e,r]})),[e,r,void 0],t);if(null==o[2]){const t=o[1];return wn(t)?new ot(0,void 0):En(o[0],n,t)}return o[2]}(e,o,t,n)),n),Raw(e){const o=e(t,n);if(1!==o.tag)return vt(o.fields[0]);{const t=o.fields[0][1],n=o.fields[0];let e,i;switch(t.tag){case 1:case 2:e=0,i=t.fields[1];break;case 3:case 4:e=1;break;case 5:case 6:case 7:e=2;break;default:e=0,i=t.fields[1]}switch(e){case 0:return null==i?void 0:(r.errors.push(n),null);case 1:return;case 2:return r.errors.push(n),null}}}})}get Required(){return this.required}get Optional(){return this.optional}}function Mn(t,n,e){const r=function(t,n){return new On(t,n)}(n,e),o=t(r),i=an(r.errors);if(jt(i))return new ot(0,o);{const t=i;return Pt(t)>1?new ot(1,[n,new st(7,Wt((t=>yn(t[0],t[1])),t))]):new ot(1,qt(i))}}function Tn(t){const n={},e=i(t);try{for(;e["System.Collections.IEnumerator.MoveNext"]();){const t=e["System.Collections.Generic.IEnumerator`1.get_Current"]();n[t[0]]=t[1]}}finally{e.Dispose()}return n}class Fn extends U{constructor(t){super(),this.LastGeneratedGuid=t}}class kn extends Error{constructor(){super("The operation was canceled"),Object.setPrototypeOf(this,kn.prototype)}}class Pn{constructor(){this.callCount=0}static get maxTrampolineCallCount(){return 2e3}incrementAndCheck(){return this.callCount++>Pn.maxTrampolineCallCount}hijack(t){this.callCount=0,setTimeout(t,0)}}function Gn(t){return n=>{if(n.cancelToken.isCancelled)n.onCancel(new kn);else if(n.trampoline.incrementAndCheck())n.trampoline.hijack((()=>{try{t(n)}catch(t){n.onError(t)}}));else try{t(n)}catch(t){n.onError(t)}}}const An=new class{Bind(t,n){return function(t,n){return Gn((e=>{t({onSuccess:t=>{try{n(t)(e)}catch(t){e.onError(t)}},onError:e.onError,onCancel:e.onCancel,cancelToken:e.cancelToken,trampoline:e.trampoline})}))}(t,n)}Combine(t,n){return this.Bind(t,(()=>n))}Delay(t){return Gn((n=>t()(n)))}For(t,n){const e=t[Symbol.iterator]();let r=e.next();return this.While((()=>!r.done),this.Delay((()=>{const t=n(r.value);return r=e.next(),t})))}Return(t){return function(t){return Gn((n=>n.onSuccess(t)))}(t)}ReturnFrom(t){return t}TryFinally(t,n){return Gn((e=>{t({onSuccess:t=>{n(),e.onSuccess(t)},onError:t=>{n(),e.onError(t)},onCancel:t=>{n(),e.onCancel(t)},cancelToken:e.cancelToken,trampoline:e.trampoline})}))}TryWith(t,n){return Gn((e=>{t({onSuccess:e.onSuccess,onCancel:e.onCancel,cancelToken:e.cancelToken,trampoline:e.trampoline,onError:t=>{try{n(t)(e)}catch(t){e.onError(t)}}})}))}Using(t,n){return this.TryFinally(n(t),(()=>t.Dispose()))}While(t,n){return t()?this.Bind(n,(()=>this.While(t,n))):this.Return(void 0)}Zero(){return Gn((t=>t.onSuccess(void 0)))}};class Nn extends U{constructor(t,n,e,r,o){super(),this.LogLevel=0|t,this.Message=n,this.Exception=e,this.Parameters=r,this.AdditionalNamedParameters=o}}function Rn(t){return new Nn(t,void 0,void 0,Nt(),Nt())}class _n{constructor(){this.contents=xt(new Array(2),0,2,null),this.count=0}}function jn(t){const n=t.contents[t.count-1];return t.count=t.count-1|0,n}class qn{constructor(){this.stack=new _n}Dispose(){const t=this;for(;t.stack.count>0;)jn(t.stack).Dispose()}}function Bn(t){const n=new qn;return function(t,n){Jt((n=>{var e,r;e=t.stack,r=n,function(t,n){const e=0|t.contents.length;if(n>e){const r=t.contents;t.contents=xt(new Array(x(((t,n)=>S(t,n)),n,2*e)),0,x(((t,n)=>S(t,n)),n,2*e),null),function(t,n,e,r,o){const i=r-n|0;for(let r=n;r<=n+o-1;r++)e[r+i]=t[r]}(r,0,t.contents,0,t.count)}}(e,e.count+1),e.contents[e.count]=r,e.count=e.count+1|0}),n)}(n,t),n}function Ln(t,n){const e=Bn(Wt((n=>t.MappedContext(n[0],n[1],n[2])),n.AdditionalNamedParameters));try{return t.Log(n.LogLevel,n.Message,n.Exception,Ut(n.Parameters))}finally{e.Dispose()}}function Un(t,n){!function(t,n){Ln(t,n(Rn(0)))}(t,n)}function $n(t){return n=>function(t,n){return new Nn(n.LogLevel,(()=>t),n.Exception,n.Parameters,n.AdditionalNamedParameters)}(t,n)}function Hn(t,n,e){return r=>function(t,n,e){return new Nn(e.LogLevel,e.Message,e.Exception,e.Parameters,(r=e.AdditionalNamedParameters,$t(((t,n)=>Ft(n,t)),_t([t,n,!0]),Ht(r))));var r}(n,e,t(r))}const Jn=new u((()=>{return t=t=>t[1](),null!=(n=function(t,n){const e=en(n);try{let n;for(;null==n&&e["System.Collections.IEnumerator.MoveNext"]();){const r=e["System.Collections.Generic.IEnumerator`1.get_Current"]();t(r)&&(n=vt(r))}return n}finally{e.Dispose()}}((t=>t[0]()),Nt()))?vt(t(St(n))):void 0;var t,n})),zn={Dispose(){}};function Vn(){return Jn.Value}function Wn(t){const n=Vn(),e=null==n?t=>t=>t=>t=>!1:n.GetLogger(t);return new class{get Log(){return I(4,e)}get MappedContext(){return(t,n,e)=>function(t,n,e){const r=Vn();return null==r?zn:r.OpenMappedContext(t,n,e)}(t,n,e)}}}function Kn(t){if(null==t)return"No value for token";{const n=St(t);return JSON.stringify(n,null,4)+""}}function Xn(t,n,e){return null==n?Nt():_t([t,e(St(n))])}function Zn(t,n){return new ot(0,n)}function Qn(t,n){return 0===function(...t){switch(t.length){case 2:return V(t[0],t[1],!1);case 3:return V(t[0],t[1],t[2]);case 4:return V(t[0],t[1],!0===t[2]);case 5:return V(t[0].substr(t[1],t[4]),t[2].substr(t[3],t[4]),!1);case 6:return V(t[0].substr(t[1],t[4]),t[2].substr(t[3],t[4]),t[5]);case 7:return V(t[0].substr(t[1],t[4]),t[2].substr(t[3],t[4]),!0===t[5]);default:throw new Error("String.compare: Unsupported number of parameters")}}(t,n,5)?vt(void 0):void 0}function Yn(t,n,e){return(()=>it((t=>n(t)),vn("$",t,e)))()}new class{constructor(){}};class te extends U{constructor(t,n,e,r,o){super(),this.Action=t,this.Event=n,this.Context=e,this.Device=r,this.Payload=o}}function ne(t){return function(t,n){try{return vn("$",t,JSON.parse(n))}catch(t){if(t instanceof SyntaxError)return new ot(1,"Given an invalid JSON: "+t.message);throw t}}(I(2,(t=>n=>Mn((t=>new te(t.Optional.Field("action",((t,n)=>Sn(t,n))),t.Required.Field("event",((t,n)=>Sn(t,n))),t.Optional.Field("context",((t,n)=>Sn(t,n))),t.Optional.Field("device",((t,n)=>Sn(t,n))),t.Optional.Field("payload",((t,n)=>Zn(0,n))))),t,n))),t)}function ee(t,n,e,r){return Tn(an(rn((()=>fn(null!=t?un(["context",St(t)]):sn(),rn((()=>fn(null!=n?un(["device",St(n)]):sn(),rn((()=>fn(un(["event",e]),rn((()=>un(["payload",Tn(r)]))))))))))))))}function re(t,n,e,r){return Tn(an(rn((()=>fn(null!=t?un(["context",St(t)]):sn(),rn((()=>fn(null!=n?un(["device",St(n)]):sn(),rn((()=>fn(un(["event",e]),rn((()=>un(["payload",r]))))))))))))))}class oe extends U{constructor(t,n){super(),this.Column=0|t,this.Row=0|n}}function ie(){return t=>n=>Mn((t=>new oe(t.Required.Field("column",I(2,bn)),t.Required.Field("row",I(2,bn)))),t,n)}class se extends U{constructor(t,n,e,r,o){super(),this.Settings=t,this.Coordinates=n,this.State=e,this.UserDesiredState=r,this.IsInMultiAction=o}}class ue extends L{constructor(t,...n){super(),this.tag=0|t,this.fields=n}cases(){return["KeyDown","KeyUp"]}}class ce extends U{constructor(t,n,e){super(),this.Settings=t,this.Coordinates=n,this.IsInMultiAction=e}}class ae extends U{constructor(t){super(),this.Settings=t}}class le extends U{constructor(t,n,e,r){super(),this.Settings=t,this.Coordinates=n,this.State=e,this.IsInMultiAction=r}}function fe(){return t=>n=>Mn((t=>new le(t.Required.Field("settings",((t,n)=>Zn(0,n))),t.Required.Field("coordinates",I(2,ie())),t.Optional.Field("state",I(2,bn)),t.Required.Field("isInMultiAction",((t,n)=>xn(t,n))))),t,n)}class he extends U{constructor(t,n,e,r,o,i,s){super(),this.FontFamily=t,this.FontSize=0|n,this.FontStyle=e,this.FontUnderline=r,this.ShowTitle=o,this.TitleAlignment=i,this.TitleColor=s}}class de extends U{constructor(t,n,e,r,o){super(),this.Coordinates=t,this.Settings=n,this.State=0|e,this.Title=r,this.TitleParameters=o}}class ge extends U{constructor(t,n){super(),this.Columns=0|t,this.Rows=0|n}}class pe extends U{constructor(t,n,e){super(),this.Name=t,this.Type=0|n,this.Size=e}}class we extends U{constructor(t){super(),this.Application=t}}class me extends L{constructor(t,...n){super(),this.tag=0|t,this.fields=n}cases(){return["Launch","Terminate"]}}class ye extends L{constructor(t,...n){super(),this.tag=0|t,this.fields=n}cases(){return["KeyDown","KeyUp","DidReceiveSettings","DidReceiveGlobalSettings","WillAppear","WillDisappear","TitleParametersDidChange","DeviceDidConnect","DeviceDidDisconnect","ApplicationDidLaunch","ApplicationDidTerminate","SystemDidWakeUp","PropertyInspectorDidAppear","PropertyInspectorDidDisappear","SendToPlugin","SendToPropertyInspector"]}}function ve(t){switch(t.tag){case 1:return"keyUp";case 2:return"didReceiveSettings";case 3:return"didReceiveGlobalSettings";case 4:return"willAppear";case 5:return"willDisappear";case 6:return"titleParametersDidChange";case 7:return"deviceDidConnect";case 8:return"deviceDidDisconnect";case 9:return"applicationDidLaunch";case 10:return"applicationDidTerminate";case 11:return"systemDidWakeUp";case 12:return"propertyInspectorDidAppear";case 13:return"propertyInspectorDidDisappear";case 14:return"sendToPlugin";case 15:return"sendToPropertyInspector";default:return"keyDown"}}function Se(t){switch(t){case 0:return 0;case 1:return 1;case 2:return 2;default:return 0}}class be extends U{constructor(t){super(),this.Message=t}}class Ce extends L{constructor(t,...n){super(),this.tag=0|t,this.fields=n}cases(){return["RegisterPlugin","LogMessage","SetSettings","GetSettings","SetGlobalSettings","GetGlobalSettings","OpenUrl","SetTitle","SetImage","ShowAlert","ShowOk","SetState","SwitchToProfile","SendToPropertyInspector"]}}function xe(t,n,e){const r=t=>{return n=0,e=t,JSON.stringify(e,I(2,null),vt(n));var n,e};switch(t.tag){case 1:return r(function(t,n,e){return ee(n,e,"logMessage",[["message",t.Message]])}(t.fields[0],n,e));case 2:return r(re(n,e,"setSettings",t.fields[0]));case 3:return r(ee(n,e,"getSettings",[]));case 4:return r(re(n,e,"setGlobalSettings",t.fields[0]));case 5:return r(ee(n,e,"getGlobalSettings",[]));case 6:return r(function(t,n,e){return ee(n,e,"openUrl",[["url",t.Url]])}(t.fields[0],n,e));case 7:return r(function(t,n,e){return ee(n,e,"setTitle",an(rn((()=>fn(Xn("title",t.Title,(t=>t)),rn((()=>fn(un(["target",Se(t.Target)]),rn((()=>Xn("state",t.State,(t=>t))))))))))))}(t.fields[0],n,e));case 8:return r(function(t,n,e){return ee(n,e,"setImage",an(rn((()=>fn(un(["image",t.Image]),rn((()=>fn(un(["target",Se(t.Target)]),rn((()=>Xn("state",t.State,(t=>t))))))))))))}(t.fields[0],n,e));case 9:return r(ee(n,e,"showAlert",[]));case 10:return r(ee(n,e,"showOk",[]));case 11:return r(function(t,n,e){return ee(n,e,"setState",[["state",t.State]])}(t.fields[0],n,e));case 12:return r(function(t,n,e){return ee(n,e,"switchToProfile",[["profile",t.Profile]])}(t.fields[0],n,e));case 13:return r(re(n,e,"sendToPropertyInspector",t.fields[0]));default:return r(function(t){return Tn([["event",t.Event],["uuid",dt(t.PluginGuid,"N").toUpperCase()]])}(t.fields[0]))}}function Ee(t,n){return An.Delay(n)}new class{constructor(){}};const Ie=Wn("StreamDeckDotnet.Context");class De extends L{constructor(t,...n){super(),this.tag=0|t,this.fields=n}cases(){return["DecodeFailure","UnknownEventType","NoPayloadForType","PayloadMissing","WrongEvent"]}}class Oe extends L{constructor(t,...n){super(),this.tag=0|t,this.fields=n}cases(){return["PayloadRequired","NoPayloadRequired"]}}function Me(t){if(1===t.tag)return new ot(0,t.fields[0]);{const n=t.fields[1];if(null==n)return new ot(1,new De(3));{const e=St(n);!function(t,n){!function(t,n){Ln(t,n(Rn(2)))}(t,n)}(Ie,Hn($n("Attempting to decode payload '{payload}'"),"payload",Kn(n)));const r=t.fields[0](e),o=B(e),i=r;return 1===i.tag?new ot(1,new De(0,o,i.fields[0])):new ot(0,i.fields[0])}}}class Te{constructor(t){this.eventMetadata=t,this._eventReceived=void 0,this._eventsToSend=void 0}}function Fe(t){return t.eventMetadata}const ke=An.Return(void 0);function Pe(t,n){return An.Delay((()=>jt(t)?An.Return(void 0):An.Bind(qt(t)(n),(e=>{const r=e;return null==r?An.ReturnFrom(Pe(Bt(t),n)):An.Return(r)}))))}function Ge(t,n){const e=Wt(M((t=>O(1,t,[n])),[[0,2]]),t);return t=>Pe(e,t)}function Ae(t,n,e,r){return An.Delay((()=>An.Bind(function(t){return Ee(0,(()=>{X(W("Attempting to bind event"));const n=t=>{const n=t=>n=>Mn((t=>new se(t.Required.Field("settings",((t,n)=>Zn(0,n))),t.Required.Field("coordinates",I(2,ie())),t.Optional.Field("state",I(2,Cn)),t.Optional.Field("userDesiredState",I(2,Cn)),t.Required.Field("isInMultiAction",((t,n)=>xn(t,n))))),t,n);return e=>Yn(I(2,n),t,e)},e=t=>{const n=t=>n=>Mn((t=>new we(t.Required.Field("application",((t,n)=>Sn(t,n))))),t,n);return e=>Yn(I(2,n),t,e)};let r;const o=t.eventMetadata.Event.toLowerCase();X(W("Matching event %s"))(o),r=null!=Qn("keyDown",o)?t=>Me(new Oe(0,n((t=>new ye(0,new ue(0,t)))),t)):null!=Qn("keyUp",o)?t=>Me(new Oe(0,n((t=>new ye(1,new ue(1,t)))),t)):null!=Qn("didReceiveSettings",o)?t=>{let n,e;return Me((n=[(e=t=>n=>Mn((t=>new ce(t.Required.Field("settings",((t,n)=>Zn(0,n))),t.Required.Field("coordinates",I(2,ie())),t.Required.Field("isInMultiAction",((t,n)=>xn(t,n))))),t,n),t=>Yn(I(2,e),(t=>new ye(2,t)),t)),t],new Oe(0,n[0],n[1])))}:null!=Qn("didReceiveGlobalSettings",o)?t=>{let n,e;return Me((n=[(e=t=>n=>Mn((t=>new ae(t.Required.Field("settings",((t,n)=>Zn(0,n))))),t,n),t=>Yn(I(2,e),(t=>new ye(3,t)),t)),t],new Oe(0,n[0],n[1])))}:null!=Qn("willAppear",o)?t=>{let n,e;return Me((n=[(e=fe(),t=>Yn(I(2,e),(t=>new ye(4,t)),t)),t],new Oe(0,n[0],n[1])))}:null!=Qn("willDisappear",o)?t=>{let n,e;return Me((n=[(e=fe(),t=>Yn(I(2,e),(t=>new ye(5,t)),t)),t],new Oe(0,n[0],n[1])))}:null!=Qn("titleParametersDidChange",o)?t=>{let n,e;return Me((n=[(e=t=>n=>Mn((t=>new de(t.Required.Field("coordinates",I(2,ie())),t.Required.Field("settings",((t,n)=>Zn(0,n))),t.Required.Field("state",I(2,bn)),t.Optional.Field("title",((t,n)=>Sn(t,n))),t.Required.Field("titleParameters",I(2,(t=>n=>Mn((t=>new he(t.Optional.Field("fontFamily",((t,n)=>Sn(t,n))),t.Required.Field("fontSize",I(2,bn)),t.Optional.Field("fontStyle",((t,n)=>Sn(t,n))),t.Required.Field("fontUnderline",((t,n)=>xn(t,n))),t.Required.Field("showTitle",((t,n)=>xn(t,n))),t.Optional.Field("titleAlignment",((t,n)=>Sn(t,n))),t.Optional.Field("titleColor",((t,n)=>Sn(t,n))))),t,n)))))),t,n),t=>Yn(I(2,e),(t=>new ye(6,t)),t)),t],new Oe(0,n[0],n[1])))}:null!=Qn("deviceDidConnect",o)?t=>{let n,e;return Me((n=[(e=t=>n=>Mn((t=>new pe(t.Required.Field("name",((t,n)=>Sn(t,n))),function(t){switch(t){case 1:return 1;case 2:return 2;case 3:return 3;case 4:return 4;default:return 0}}(t.Required.Field("type",I(2,bn))),t.Required.Field("size",I(2,(t=>n=>Mn((t=>new ge(t.Required.Field("columns",I(2,bn)),t.Required.Field("rows",I(2,bn)))),t,n)))))),t,n),t=>Yn(I(2,e),(t=>new ye(7,t)),t)),t],new Oe(0,n[0],n[1])))}:null!=Qn("deviceDidDisconnect",o)?t=>Me(new Oe(1,new ye(8))):null!=Qn("applicationDidLaunch",o)?t=>{let n;return Me((n=[e((t=>new ye(9,new me(0,t)))),t],new Oe(0,n[0],n[1])))}:null!=Qn("applicationDidTerminate",o)?t=>{let n;return Me((n=[e((t=>new ye(10,new me(1,t)))),t],new Oe(0,n[0],n[1])))}:null!=Qn("systemDidWakeUp",o)?t=>Me(new Oe(1,new ye(11))):null!=Qn("propertyInspectorDidAppear",o)?t=>Me(new Oe(1,new ye(12))):null!=Qn("propertyInspectorDidDisappear",o)?t=>Me(new Oe(1,new ye(13))):null!=Qn("sendToPlugin",o)?t=>new ot(0,new ye(14,null==t?null:St(t))):null!=Qn("sendToPropertyInspector",o)?t=>new ot(0,new ye(15,null==t?null:St(t))):t=>new ot(1,new De(1,o));const i=Kn(t.eventMetadata.Payload);return X(W("Attempting to decode payload: %A"))(i),An.Return(r(t.eventMetadata.Payload))}))}(r),(o=>{const i=o;return 1===i.tag?An.ReturnFrom(t(i.fields[0],e,r)):An.ReturnFrom(n(i.fields[0],e,r))}))))}const Ne=t=>n=>function(t,n,e){return An.Delay((()=>t(Fe(e).Event)?An.ReturnFrom(n(e)):An.ReturnFrom(ke)))}((t=>function(t,n){const e=t.toLowerCase()===n.toLowerCase();return X(W("Validating %s against %s, reuslt is %b"))(t)(n)(e),e}("sendToPropertyInspector",t)),t,n);function Re(t,n){return function(t,n){return function(t,n){const e=t._eventsToSend;if(null!=e){const r=e;t._eventsToSend=Rt(n,r)}else t._eventsToSend=_t(n)}(n,t),n}(function(t){return new Ce(1,new be(t))}(t),n)}function _e(t,n){return Ee(0,(()=>{const e=Wn("StreamDeckDotnet.Fable.Client.socketMsgHandler"),r=An.Return(ne(n));return An.Delay((()=>An.Bind(r,(n=>{let r,o;const i=n;return 1===i.tag?An.Return(new ot(1,i.fields[0])):An.ReturnFrom((r=i.fields[0],function(t,n){!function(t,n){Ln(t,n(Rn(1)))}(t,n)}(e,Hn($n("Event metadata is: {metadata}"),"metadata",r)),o=function(t){return new Te(t)}(r),Un(e,$n("Initializing handling")),An.Bind(An.Bind(t((t=>{return n=o,An.Delay((()=>An.Return(vt(n))));var n}),o),(t=>An.Return(new ot(0,t)))),(t=>An.Return(it((t=>{const n=t;return Un(e,$n("Handling complete")),null==n?o:n}),t))))))}))))}))}class je{constructor(t,n,e,r,o,i,s){this.fullname=t,this.generics=n,this.construct=e,this.parent=r,this.fields=o,this.cases=i,this.enumCases=s}toString(){return He(this)}GetHashCode(){return Be(this)}Equals(t){return Le(this,t)}}function qe(t){return null!=t.generics?t.generics:[]}function Be(t){return g([h(t.fullname),...qe(t).map(Be)])}function Le(t,n){return""===t.fullname?""===n.fullname&&w(Ve(t),Ve(n),(([t,n],[e,r])=>t===e&&Le(n,r))):t.fullname===n.fullname&&w(qe(t),qe(n),Le)}new je("System.Object"),new je("Microsoft.FSharp.Core.Unit"),new je("System.Char");const Ue=new je("System.String");function $e(t){if(Array.isArray(t))return t[0];if(t instanceof je){const n=Je(t);if(null!=n)return $e(n)+"[]";{const n=t.fullname.lastIndexOf(".");return-1===n?t.fullname:t.fullname.substr(n+1)}}return t.name}function He(t){const n=Je(t);return null!=n?He(n)+"[]":null==t.generics||0===t.generics.length?t.fullname:t.fullname+"["+t.generics.map((t=>He(t))).join(",")+"]"}function Je(t){var n;return"[]"===t.fullname&&1===(null===(n=t.generics)||void 0===n?void 0:n.length)?t.generics[0]:void 0}function ze(t){if(null!=t.cases)return t.cases();throw new Error(`${t.fullname} is not an F# union type`)}function Ve(t){if(null!=t.fields)return t.fields();throw new Error(`${t.fullname} is not an F# record type`)}function We(t){return t.fullname.startsWith("System.Tuple")}function Ke(t){return"Microsoft.FSharp.Core.FSharpFunc`2"===t.fullname}function Xe(t,n){const e=ze(n)[t.tag];if(null==e)throw new Error(`Cannot find case ${t.name} in union type`);return[e,t.fields]}function Ze(t,n){return t[n[0]]}new je("System.Boolean"),new je("System.SByte"),new je("System.Byte"),new je("System.Int16"),new je("System.UInt16"),new je("System.Int32"),new je("System.UInt32"),new je("System.Single"),new je("System.Double"),new je("System.Decimal");class Qe{constructor(t,n){this.k=t,this.v=n}}function Ye(t,n){return new Qe(t,n)}function tr(t){return t.k}function nr(t){return t.v}class er extends Qe{constructor(t,n,e,r,o){super(t,n),this.left=e,this.right=r,this.h=0|o}}function rr(t,n,e,r,o){return new er(t,n,e,r,o)}function or(t){return t.left}function ir(t){return t.right}function sr(t){return t.h}function ur(t,n){t:for(;;){const e=t,r=n;if(null!=r){const o=r;if(o instanceof er){t=ur(e+1,or(o)),n=ir(o);continue t}return e+1|0}return 0|e}}function cr(t){return ur(0,t)}function ar(t,n,e,r){let o,i;if(null!=t){const n=t;o=n instanceof er?sr(n):1}else o=0;if(null!=r){const t=r;i=t instanceof er?sr(t):1}else i=0;const s=0|(o<i?i:o);return 0===s?Ye(n,e):rr(n,e,t,r,s+1)}function lr(t,n,e,r){let o,i,s,u,c,a;if(null!=t){const n=t;c=n instanceof er?sr(n):1}else c=0;if(null!=r){const t=r;a=t instanceof er?sr(t):1}else a=0;if(a>c+2){const s=St(r);if(s instanceof er){if(o=or(s),(null!=o?(i=o,i instanceof er?sr(i):1):0)>c+1){const r=St(or(s));if(r instanceof er)return ar(ar(t,n,e,or(r)),tr(r),nr(r),ar(ir(r),tr(s),nr(s),ir(s)));throw new Error("internal error: Map.rebalance")}return ar(ar(t,n,e,or(s)),tr(s),nr(s),ir(s))}throw new Error("internal error: Map.rebalance")}if(c>a+2){const o=St(t);if(o instanceof er){if(s=ir(o),(null!=s?(u=s,u instanceof er?sr(u):1):0)>a+1){const t=St(ir(o));if(t instanceof er)return ar(ar(or(o),tr(o),nr(o),or(t)),tr(t),nr(t),ar(ir(t),n,e,r));throw new Error("internal error: Map.rebalance")}return ar(or(o),tr(o),nr(o),ar(ir(o),n,e,r))}throw new Error("internal error: Map.rebalance")}return ar(t,n,e,r)}function fr(t,n,e,r){if(null!=r){const o=r,i=0|t.Compare(n,tr(o));return o instanceof er?i<0?lr(fr(t,n,e,or(o)),tr(o),nr(o),ir(o)):0===i?rr(n,e,or(o),ir(o),sr(o)):lr(or(o),tr(o),nr(o),fr(t,n,e,ir(o))):i<0?rr(n,e,void 0,r,2):0===i?Ye(n,e):rr(n,e,r,void 0,2)}return Ye(n,e)}function hr(t,n){t:for(;;){const e=t,r=n;if(null!=r){const o=r;if(o instanceof er){hr(e,or(o)),e(tr(o),nr(o)),t=e,n=ir(o);continue t}e(tr(o),nr(o))}break}}function dr(t,n){hr(t,n)}function gr(t,n,e){let r=e;dr(((t,e)=>{n[r]=[t,e],r=r+1|0}),t)}function pr(t,n){if(e(n))return function(t,n){let e;for(let r=0;r<=n.length-1;r++){const o=n[r];e=fr(t,o[0],o[1],e)}return e}(t,n);if(n instanceof Ot)return function(t,n){return $t(((n,e)=>fr(t,e[0],e[1],n)),void 0,n)}(t,n);{const e=i(n);try{return function(t,n,e){for(;;){const r=t,o=n,i=e;if(!i["System.Collections.IEnumerator.MoveNext"]())return o;{const s=i["System.Collections.Generic.IEnumerator`1.get_Current"]();t=r,n=fr(r,s[0],s[1],o),e=i}}}(t,void 0,e)}finally{e.Dispose()}}}class wr extends U{constructor(t,n){super(),this.stack=t,this.started=n}}function mr(t){t:for(;;){const n=t;if(jt(n))return Nt();{const e=Bt(n),r=qt(n);if(null!=r){const o=r;if(o instanceof er){t=zt([or(o),Ye(tr(o),nr(o)),ir(o)],e);continue t}return n}t=e;continue t}}}function yr(t){return new wr(mr(_t(t)),!1)}function vr(t){if(t.started){const n=t.stack;if(jt(n))return function(){throw new Error("enumeration already finished")}();if(null!=qt(n)){const t=qt(n);if(t instanceof er)throw new Error("Please report error: Map iterator, unexpected stack for current");return[tr(t),nr(t)]}throw new Error("Please report error: Map iterator, unexpected stack for current")}return function(){throw new Error("enumeration not started")}()}function Sr(t){let n=yr(t);return{"System.Collections.Generic.IEnumerator`1.get_Current":()=>vr(n),"System.Collections.IEnumerator.get_Current":()=>vr(n),"System.Collections.IEnumerator.MoveNext":()=>function(t){if(t.started){const n=t.stack;if(jt(n))return!1;if(null!=qt(n)){if(qt(n)instanceof er)throw new Error("Please report error: Map iterator, unexpected stack for moveNext");return t.stack=mr(Bt(n)),!jt(t.stack)}throw new Error("Please report error: Map iterator, unexpected stack for moveNext")}return t.started=!0,!jt(t.stack)}(n),"System.Collections.IEnumerator.Reset"(){n=yr(t)},Dispose(){}}}class br{constructor(t,n){this.comparer=t,this.tree=n}GetHashCode(){return 0|function(t){const n=(t,n)=>(t<<1)+n+631;let e=0;const r=i(t);try{for(;r["System.Collections.IEnumerator.MoveNext"]();){const t=r["System.Collections.Generic.IEnumerator`1.get_Current"]();e=0|n(e,p(t[0])),e=0|n(e,p(t[1]))}}finally{r.Dispose()}return 0|e}(this)}Equals(t){if(!(t instanceof br))return!1;{const n=i(this);try{const e=i(t);try{const t=()=>{const r=n["System.Collections.IEnumerator.MoveNext"]();if(r===e["System.Collections.IEnumerator.MoveNext"]()){if(r){const r=n["System.Collections.Generic.IEnumerator`1.get_Current"](),o=e["System.Collections.Generic.IEnumerator`1.get_Current"]();return!(!y(r[0],o[0])||!y(r[1],o[1]))&&t()}return!0}return!1};return t()}finally{e.Dispose()}}finally{n.Dispose()}}}toString(){return"map ["+et("; ",gn((t=>tt("({0}, {1})",t[0],t[1])),this))+"]"}get[Symbol.toStringTag](){return"FSharpMap"}toJSON(t){return Array.from(this)}GetEnumerator(){return Sr(this.tree)}[Symbol.iterator](){return s(this.GetEnumerator())}"System.Collections.IEnumerable.GetEnumerator"(){return Sr(this.tree)}CompareTo(t){const n=this;if(t instanceof br)return 0|function(t,n,e){const r=en(n);try{const n=en(e);try{let e=0,o=r["System.Collections.IEnumerator.MoveNext"](),i=n["System.Collections.IEnumerator.MoveNext"]();for(;0===e&&o&&i;)e=0|t(r["System.Collections.Generic.IEnumerator`1.get_Current"](),n["System.Collections.Generic.IEnumerator`1.get_Current"]()),0===e&&(o=r["System.Collections.IEnumerator.MoveNext"](),i=n["System.Collections.IEnumerator.MoveNext"]());return 0|(0!==e?e:o?1:i?-1:0)}finally{n.Dispose()}}finally{r.Dispose()}}(((t,e)=>{const r=0|n.comparer.Compare(t[0],e[0]);return 0|(0!==r?r:C(t[1],e[1]))}),n,t);throw new Error("not comparable\\nParameter name: obj")}"System.Collections.Generic.ICollection`1.Add2B595"(t){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Clear"(){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Remove2B595"(t){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Contains2B595"(t){return Ir(this,t[0])&&y(xr(this,t[0]),t[1])}"System.Collections.Generic.ICollection`1.CopyToZ2E171D71"(t,n){gr(this.tree,t,n)}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!0}"System.Collections.Generic.ICollection`1.get_Count"(){return 0|Er(this)}"System.Collections.Generic.IReadOnlyCollection`1.get_Count"(){return 0|Er(this)}get size(){return 0|Er(this)}clear(){throw new Error("Map cannot be mutated")}delete(t){throw new Error("Map cannot be mutated")}entries(){return gn((t=>[t[0],t[1]]),this)}get(t){return xr(this,t)}has(t){return Ir(this,t)}keys(){return gn((t=>t[0]),this)}set(t,n){throw new Error("Map cannot be mutated")}values(){return gn((t=>t[1]),this)}forEach(t,n){const e=this;dn((n=>{t(n[1],n[0],e)}),e)}}function Cr(t,n){return new br(t,n)}function xr(t,n){return function(t,n,e){const r=function(t,n,e){t:for(;;){const r=t,o=n,i=e;if(null!=i){const s=i,u=0|r.Compare(o,tr(s));if(0===u)return vt(nr(s));if(s instanceof er){t=r,n=o,e=u<0?or(s):ir(s);continue t}return}return}}(t,n,e);if(null==r)throw new Error;return St(r)}(t.comparer,n,t.tree)}function Er(t){return cr(t.tree)}function Ir(t,n){return function(t,n,e){t:for(;;){const r=t,o=n,i=e;if(null!=i){const s=i,u=0|r.Compare(o,tr(s));if(s instanceof er){if(u<0){t=r,n=o,e=or(s);continue t}if(0===u)return!0;t=r,n=o,e=ir(s);continue t}return 0===u}return!1}}(t.comparer,n,t.tree)}br.empty=Cr(Kt(),void 0);var Dr={GetHashCode(){return g([this.s,this.e].concat(this.c))},Equals(t){return!this.cmp(t)},CompareTo(t){return this.cmp(t)},[G](){const t=this;return{multiply:n=>t.mul(n),toPrecision:n=>t.toPrecision(n),toExponential:n=>t.toExponential(n),toFixed:n=>t.toFixed(n),toHex:()=>(Number(t)>>>0).toString(16)}}},Or=1e6,Mr="[big.js] ",Tr=Mr+"Invalid ",Fr=Tr+"decimal places",kr=Mr+"Division by zero",Pr=void 0,Gr=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function Ar(t,n){var e,r,o;if(!Gr.test(n))throw Error(Tr+"number");for(t.s="-"==n.charAt(0)?(n=n.slice(1),-1):1,(e=n.indexOf("."))>-1&&(n=n.replace(".","")),(r=n.search(/e/i))>0?(e<0&&(e=r),e+=+n.slice(r+1),n=n.substring(0,r)):e<0&&(e=n.length),o=n.length,r=0;r<e&&r<o&&"0"==n.charAt(r);)++r;if(r==o)t.c=[t.e=0];else for(t.e=e-r-1,t.c=[],e=0;r<o;)t.c[e++]=+n.charAt(r++);return Nr(t,_r.DP+1,_r.RM)}function Nr(t,n,e,r){var o=t.c;if(e===Pr&&(e=_r.RM),0!==e&&1!==e&&2!==e&&3!==e)throw Error("[big.js] Invalid rounding mode");if(n<1)r=3===e&&(r||!!o[0])||0===n&&(1===e&&o[0]>=5||2===e&&(o[0]>5||5===o[0]&&(r||o[1]!==Pr))),o.length=1,r?(t.e=t.e-n+1,o[0]=1):o[0]=t.e=0;else if(n<o.length){const i=o.findIndex(((t,e)=>e>=n&&t>0))<0;if(r=1===e&&o[n]>=5||2===e&&(o[n]>5||5===o[n]&&(r||o[n+1]!==Pr||1&o[n-1]))||3===e&&(r||!i),o.length=n--,r)for(;++o[n]>9;)o[n]=0,n--||(++t.e,o.unshift(1));for(n=o.length;!o[--n];)o.pop()}return t}function Rr(t,n,e){var r=t.e,o=t.c.join(""),i=o.length;if(n)o=o.charAt(0)+(i>1?"."+o.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)o="0"+o;o="0."+o}else if(r>0)if(++r>i)for(r-=i;r--;)o+="0";else r<i&&(o=o.slice(0,r)+"."+o.slice(r));else i>1&&(o=o.charAt(0)+"."+o.slice(1));return t.s<0&&e?"-"+o:o}Dr.abs=function(){var t=new this.constructor(this);return t.s=1,t},Dr.cmp=function(t){var n,e=this.constructor,r=new e(this),o=(t=new e(t),r.c),i=t.c,s=r.s,u=t.s,c=r.e,a=t.e;if(!o[0]||!i[0])return o[0]?s:i[0]?-u:0;if(s!=u)return s;if(n=s<0,c!=a)return c>a^n?1:-1;for(u=Math.max(o.length,i.length),s=0;s<u;s++)if((c=s<o.length?o[s]:0)!=(a=s<i.length?i[s]:0))return c>a^n?1:-1;return 0},Dr.div=function(t){var n=this.constructor,e=new n(this),r=(t=new n(t),e.c),o=t.c,i=e.s==t.s?1:-1,s=n.DP;if(s!==~~s||s<0||s>Or)throw Error(Fr);if(!o[0])throw Error(kr);if(!r[0])return t.s=i,t.c=[t.e=0],t;var u,c,a,l,f,h=o.slice(),d=u=o.length,g=r.length,p=r.slice(0,u),w=p.length,m=t,y=m.c=[],v=0,S=s+(m.e=e.e-t.e)+1;for(m.s=i,i=S<0?0:S,h.unshift(0);w++<u;)p.push(0);do{for(a=0;a<10;a++){if(u!=(w=p.length))l=u>w?1:-1;else for(f=-1,l=0;++f<u;)if(o[f]!=p[f]){l=o[f]>p[f]?1:-1;break}if(!(l<0))break;for(c=w==u?o:h;w;){if(p[--w]<c[w]){for(f=w;f&&!p[--f];)p[f]=9;--p[f],p[w]+=10}p[w]-=c[w]}for(;!p[0];)p.shift()}y[v++]=l?a:++a,p[0]&&l?p[w]=r[d]||0:p=[r[d]]}while((d++<g||p[0]!==Pr)&&i--);return y[0]||1==v||(y.shift(),m.e--,S--),v>S&&Nr(m,S,n.RM,p[0]!==Pr),m},Dr.eq=function(t){return 0===this.cmp(t)},Dr.gt=function(t){return this.cmp(t)>0},Dr.gte=function(t){return this.cmp(t)>-1},Dr.lt=function(t){return this.cmp(t)<0},Dr.lte=function(t){return this.cmp(t)<1},Dr.minus=Dr.sub=function(t){var n,e,r,o,i=this.constructor,s=new i(this),u=(t=new i(t),s.s),c=t.s;if(u!=c)return t.s=-c,s.plus(t);var a=s.c.slice(),l=s.e,f=t.c,h=t.e;if(!a[0]||!f[0])return f[0]?t.s=-c:a[0]?t=new i(s):t.s=1,t;if(u=l-h){for((o=u<0)?(u=-u,r=a):(h=l,r=f),r.reverse(),c=u;c--;)r.push(0);r.reverse()}else for(e=((o=a.length<f.length)?a:f).length,u=c=0;c<e;c++)if(a[c]!=f[c]){o=a[c]<f[c];break}if(o&&(r=a,a=f,f=r,t.s=-t.s),(c=(e=f.length)-(n=a.length))>0)for(;c--;)a[n++]=0;for(c=n;e>u;){if(a[--e]<f[e]){for(n=e;n&&!a[--n];)a[n]=9;--a[n],a[e]+=10}a[e]-=f[e]}for(;0===a[--c];)a.pop();for(;0===a[0];)a.shift(),--h;return a[0]||(t.s=1,a=[h=0]),t.c=a,t.e=h,t},Dr.mod=function(t){var n,e=this.constructor,r=new e(this),o=(t=new e(t),r.s),i=t.s;if(!t.c[0])throw Error(kr);return r.s=t.s=1,n=1==t.cmp(r),r.s=o,t.s=i,n?new e(r):(o=e.DP,i=e.RM,e.DP=e.RM=0,r=r.div(t),e.DP=o,e.RM=i,this.minus(r.times(t)))},Dr.plus=Dr.add=function(t){var n,e,r,o=this.constructor,i=new o(this);if(t=new o(t),i.s!=t.s)return t.s=-t.s,i.minus(t);var s=i.e,u=i.c,c=t.e,a=t.c;if(!u[0]||!a[0])return a[0]||(u[0]?t=new o(i):t.s=i.s),t;if(u=u.slice(),n=s-c){for(n>0?(c=s,r=a):(n=-n,r=u),r.reverse();n--;)r.push(0);r.reverse()}for(u.length-a.length<0&&(r=a,a=u,u=r),n=a.length,e=0;n;u[n]%=10)e=(u[--n]=u[n]+a[n]+e)/10|0;for(e&&(u.unshift(e),++c),n=u.length;0===u[--n];)u.pop();return t.c=u,t.e=c,t},Dr.pow=function(t){var n=this.constructor,e=new n(this),r=new n("1"),o=new n("1"),i=t<0;if(t!==~~t||t<-1e6||t>1e6)throw Error(Tr+"exponent");for(i&&(t=-t);1&t&&(r=r.times(e)),t>>=1;)e=e.times(e);return i?o.div(r):r},Dr.prec=function(t,n){if(t!==~~t||t<1||t>Or)throw Error(Tr+"precision");return Nr(new this.constructor(this),t,n)},Dr.round=function(t,n){if(t===Pr)t=0;else if(t!==~~t||t<-Or||t>Or)throw Error(Fr);return Nr(new this.constructor(this),t+this.e+1,n)},Dr.sqrt=function(){var t,n,e,r=this.constructor,o=new r(this),i=o.s,s=o.e,u=new r("0.5");if(!o.c[0])return new r(o);if(i<0)throw Error(Mr+"No square root");0===(i=Math.sqrt(o+""))||i===1/0?((n=o.c.join("")).length+s&1||(n+="0"),s=((s+1)/2|0)-(s<0||1&s),t=new r(((i=Math.sqrt(n))==1/0?"5e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+s)):t=new r(i+""),s=t.e+(r.DP+=4);do{e=t,t=u.times(e.plus(o.div(e)))}while(e.c.slice(0,s).join("")!==t.c.slice(0,s).join(""));return Nr(t,(r.DP-=4)+t.e+1,r.RM)},Dr.times=Dr.mul=function(t){var n,e=this.constructor,r=new e(this),o=(t=new e(t),r.c),i=t.c,s=o.length,u=i.length,c=r.e,a=t.e;if(t.s=r.s==t.s?1:-1,!o[0]||!i[0])return t.c=[t.e=0],t;for(t.e=c+a,s<u&&(n=o,o=i,i=n,a=s,s=u,u=a),n=new Array(a=s+u);a--;)n[a]=0;for(c=u;c--;){for(u=0,a=s+c;a>c;)u=n[a]+i[c]*o[a-c-1]+u,n[a--]=u%10,u=u/10|0;n[a]=u}for(u?++t.e:n.shift(),c=n.length;!n[--c];)n.pop();return t.c=n,t},Dr.toExponential=function(t,n){var e=this,r=e.c[0];if(t!==Pr){if(t!==~~t||t<0||t>Or)throw Error(Fr);for(e=Nr(new e.constructor(e),++t,n);e.c.length<t;)e.c.push(0)}return Rr(e,!0,!!r)},Dr.toFixed=function(t,n){var e=this,r=e.c[0];if(t!==Pr){if(t!==~~t||t<0||t>Or)throw Error(Fr);for(t=t+(e=Nr(new e.constructor(e),t+e.e+1,n)).e+1;e.c.length<t;)e.c.push(0)}return Rr(e,!1,!!r)},Dr.toJSON=Dr.toString=function(){var t=this,n=t.constructor;return Rr(t,t.e<=n.NE||t.e>=n.PE,!!t.c[0])},Dr.toNumber=function(){var t=Number(Rr(this,!0,!0));if(!0===this.constructor.strict&&!this.eq(t.toString()))throw Error(Mr+"Imprecise conversion");return t},Dr.toPrecision=function(t,n){var e=this,r=e.constructor,o=e.c[0];if(t!==Pr){if(t!==~~t||t<1||t>Or)throw Error(Tr+"precision");for(e=Nr(new r(e),t,n);e.c.length<t;)e.c.push(0)}return Rr(e,t<=e.e||e.e<=r.NE||e.e>=r.PE,!!o)},Dr.valueOf=function(){var t=this,n=t.constructor;if(!0===n.strict)throw Error(Mr+"valueOf disallowed");return Rr(t,t.e<=n.NE||t.e>=n.PE,!0)};var _r=function t(){function n(e){var r=this;if(!(r instanceof n))return e===Pr?t():new n(e);if(e instanceof n)r.s=e.s,r.e=e.e,r.c=e.c.slice(),function(t){if(t.c.length>1&&!t.c[0]){let n=t.c.findIndex((t=>t));t.c=t.c.slice(n),t.e=t.e-n}}(r);else{if("string"!=typeof e){if(!0===n.strict)throw TypeError(Tr+"number");e=0===e&&1/e<0?"-0":String(e)}Ar(r,e)}r.constructor=n}return n.prototype=Dr,n.DP=28,n.RM=1,n.NE=-29,n.PE=29,n.strict=!1,n}();const jr=_r,qr=jr;function Br(t){return t.toString()}new jr(0),new jr(1),new jr(-1),new jr("79228162514264337593543950335"),new jr("-79228162514264337593543950335");var Lr=null;try{Lr=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function Ur(t,n,e){this.low=0|t,this.high=0|n,this.unsigned=!!e}function $r(t){return!0===(t&&t.__isLong__)}Ur.prototype.GetHashCode=function(){let t=this.unsigned?1:0;return t=(t<<5)+t^this.high,t=(t<<5)+t^this.low,t},Ur.prototype.Equals=function(t){return mo(this,t)},Ur.prototype.CompareTo=function(t){return bo(this,t)},Ur.prototype.toString=function(t){return ho(this,t)},Ur.prototype.toJSON=function(){return ho(this)},Ur.prototype[G]=function(){const t=this;return{multiply:n=>Io(t,n),toPrecision:n=>String(t)+(0).toPrecision(n).substr(1),toExponential:n=>String(t)+(0).toExponential(n).substr(1),toFixed:n=>String(t)+(0).toFixed(n).substr(1),toHex:()=>{return ho(t.unsigned?t:function(t,n,e){return e?function(t,n){return new Ur(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)}(t,n):function(t,n){return new Ur(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)}(t,n)}((n=t,e?function(t){var n=t.high,e=t.low;return[255&e,e>>>8&255,e>>>16&255,e>>>24,255&n,n>>>8&255,n>>>16&255,n>>>24]}(n):function(t){var n=t.high,e=t.low;return[n>>>24,n>>>16&255,n>>>8&255,255&n,e>>>24,e>>>16&255,e>>>8&255,255&e]}(n)),!0),16);var n,e}}},Ur.prototype.__isLong__,Object.defineProperty(Ur.prototype,"__isLong__",{value:!0});var Hr={},Jr={};function zr(t,n){var e,r,o;return n?(o=0<=(t>>>=0)&&t<256)&&(r=Jr[t])?r:(e=Wr(t,(0|t)<0?-1:0,!0),o&&(Jr[t]=e),e):(o=-128<=(t|=0)&&t<128)&&(r=Hr[t])?r:(e=Wr(t,t<0?-1:0,!1),o&&(Hr[t]=e),e)}function Vr(t,n){if(isNaN(t))return n?ro:eo;if(n){if(t<0)return ro;if(t>=Yr)return co}else{if(t<=-to)return ao;if(t+1>=to)return uo}return t<0?Co(Vr(-t,n)):Wr(t%Qr|0,t/Qr|0,n)}function Wr(t,n,e){return new Ur(t,n,e)}var Kr=Math.pow;function Xr(t,n,e){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return eo;if("number"==typeof n?(e=n,n=!1):n=!!n,(e=e||10)<2||36<e)throw RangeError("radix");var r=t.indexOf("-");if(r>0)throw Error("interior hyphen");if(0===r)return Co(Xr(t.substring(1),n,e));for(var o=Vr(Kr(e,8)),i=eo,s=0;s<t.length;s+=8){var u=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+u),e);i=xo(u<8?Io(i,Vr(Kr(e,u))):i=Io(i,o),Vr(c))}return i.unsigned=n,i}function Zr(t,n){return"number"==typeof t?Vr(t,n):"string"==typeof t?Xr(t,n):Wr(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}var Qr=4294967296,Yr=Qr*Qr,to=Yr/2,no=zr(1<<24),eo=zr(0),ro=zr(0,!0),oo=zr(1),io=zr(1,!0),so=zr(-1),uo=Wr(-1,2147483647,!1),co=Wr(-1,-1,!0),ao=Wr(0,-2147483648,!1);function lo(t){return t.unsigned?t.low>>>0:t.low}function fo(t){return t.unsigned?(t.high>>>0)*Qr+(t.low>>>0):t.high*Qr+(t.low>>>0)}function ho(t,n){if((n=n||10)<2||36<n)throw RangeError("radix");if(go(t))return"0";if(po(t)){if(mo(t,ao)){var e=Vr(n),r=Do(t,e),o=Eo(Io(r,e),t);return ho(r,n)+lo(o).toString(n)}return"-"+ho(Co(t),n)}for(var i=Vr(Kr(n,6),t.unsigned),s=t,u="";;){var c=Do(s,i),a=(lo(Eo(s,Io(c,i)))>>>0).toString(n);if(go(s=c))return a+u;for(;a.length<6;)a="0"+a;u=""+a+u}}function go(t){return 0===t.high&&0===t.low}function po(t){return!t.unsigned&&t.high<0}function wo(t){return 1==(1&t.low)}function mo(t,n){return $r(n)||(n=Zr(n)),(t.unsigned===n.unsigned||t.high>>>31!=1||n.high>>>31!=1)&&t.high===n.high&&t.low===n.low}function yo(t,n){return bo(t,n)<0}function vo(t,n){return bo(t,n)>0}function So(t,n){return bo(t,n)>=0}function bo(t,n){if($r(n)||(n=Zr(n)),mo(t,n))return 0;var e=po(t),r=po(n);return e&&!r?-1:!e&&r?1:t.unsigned?n.high>>>0>t.high>>>0||n.high===t.high&&n.low>>>0>t.low>>>0?-1:1:po(Eo(t,n))?-1:1}function Co(t){return!t.unsigned&&mo(t,ao)?ao:xo(function(t){return Wr(~t.low,~t.high,t.unsigned)}(t),oo)}function xo(t,n){$r(n)||(n=Zr(n));var e=t.high>>>16,r=65535&t.high,o=t.low>>>16,i=65535&t.low,s=n.high>>>16,u=65535&n.high,c=n.low>>>16,a=0,l=0,f=0,h=0;return f+=(h+=i+(65535&n.low))>>>16,l+=(f+=o+c)>>>16,a+=(l+=r+u)>>>16,a+=e+s,Wr((f&=65535)<<16|(h&=65535),(a&=65535)<<16|(l&=65535),t.unsigned)}function Eo(t,n){return $r(n)||(n=Zr(n)),xo(t,Co(n))}function Io(t,n){if(go(t))return t.unsigned?ro:eo;if($r(n)||(n=Zr(n)),Lr)return Wr(Lr.mul(t.low,t.high,n.low,n.high),Lr.get_high(),t.unsigned);if(go(n))return t.unsigned?ro:eo;if(mo(t,ao))return wo(n)?ao:eo;if(mo(n,ao))return wo(t)?ao:eo;if(po(t))return po(n)?Io(Co(t),Co(n)):Co(Io(Co(t),n));if(po(n))return Co(Io(t,Co(n)));if(yo(t,no)&&yo(n,no))return Vr(fo(t)*fo(n),t.unsigned);var e=t.high>>>16,r=65535&t.high,o=t.low>>>16,i=65535&t.low,s=n.high>>>16,u=65535&n.high,c=n.low>>>16,a=65535&n.low,l=0,f=0,h=0,d=0;return h+=(d+=i*a)>>>16,f+=(h+=o*a)>>>16,h&=65535,f+=(h+=i*c)>>>16,l+=(f+=r*a)>>>16,f&=65535,l+=(f+=o*c)>>>16,f&=65535,l+=(f+=i*u)>>>16,l+=e*a+r*c+o*u+i*s,Wr((h&=65535)<<16|(d&=65535),(l&=65535)<<16|(f&=65535),t.unsigned)}function Do(t,n){if($r(n)||(n=Zr(n)),go(n))throw Error("division by zero");var e,r,o;if(Lr)return t.unsigned||-2147483648!==t.high||-1!==n.low||-1!==n.high?Wr((t.unsigned?Lr.div_u:Lr.div_s)(t.low,t.high,n.low,n.high),Lr.get_high(),t.unsigned):t;if(go(t))return t.unsigned?ro:eo;if(t.unsigned){if(n.unsigned||(n=function(t){return t.unsigned?t:Wr(t.low,t.high,!0)}(n)),vo(n,t))return ro;if(vo(n,function(t,n){if($r(n)&&(n=lo(n)),0==(n&=63))return t;var e=t.high;return n<32?Wr(t.low>>>n|e<<32-n,e>>>n,t.unsigned):Wr(32===n?e:e>>>n-32,0,t.unsigned)}(t,1)))return io;o=ro}else{if(mo(t,ao))return mo(n,oo)||mo(n,so)?ao:mo(n,ao)?oo:mo(e=function(t,n){return $r(n)&&(n=lo(n)),0==(n&=63)?t:n<32?Wr(t.low<<n,t.high<<n|t.low>>>32-n,t.unsigned):Wr(0,t.low<<n-32,t.unsigned)}(Do(function(t,n){return $r(n)&&(n=lo(n)),0==(n&=63)?t:n<32?Wr(t.low>>>n|t.high<<32-n,t.high>>n,t.unsigned):Wr(t.high>>n-32,t.high>=0?0:-1,t.unsigned)}(t,1),n),1),eo)?po(n)?oo:so:o=xo(e,Do(r=Eo(t,Io(n,e)),n));if(mo(n,ao))return t.unsigned?ro:eo;if(po(t))return po(n)?Do(Co(t),Co(n)):Co(Do(Co(t),n));if(po(n))return Co(Do(t,Co(n)));o=eo}for(r=t;So(r,n);){e=Math.max(1,Math.floor(fo(r)/fo(n)));for(var i=Math.ceil(Math.log(e)/Math.LN2),s=i<=48?1:Kr(2,i-48),u=Vr(e),c=Io(u,n);po(c)||vo(c,r);)c=Io(u=Vr(e-=s,t.unsigned),n);go(u)&&(u=oo),o=xo(o,u),r=Eo(r,c)}return o}const Oo=xo,Mo=Io,To=Do,Fo=Co,ko=function(t,n){return $r(n)||(n=Zr(n)),Wr(t.low&n.low,t.high&n.high,t.unsigned)},Po=bo,Go=Wr,Ao=lo,No=ho;function Ro(t,n,e){let r=t,o=0;switch(e){case 0:r=t<<24>>24,o=r;break;case 4:r=t<<24>>>24;break;case 1:r=t<<16>>16,o=r;break;case 5:r=t<<16>>>16;break;case 2:r=t>>0,o=r;break;case 6:r=t>>>0}return Wr(r,o>>31,n)}function _o(t){if(!(this instanceof _o))return new _o(t);this._=t}var jo=_o.prototype;function qo(t,n,e){return function(t,n){!function(t,n){for(var e=0;e<t;e++)n(e)}(n.length,(function(e){t(n[e],e,n)}))}((function(e,r,o){n=t(n,e,r,o)}),e),n}function Bo(t,n){return qo((function(n,e,r,o){return n.concat([t(e,r,o)])}),[],n)}function Lo(t){return t instanceof _o}function Uo(t){return"[object Array]"==={}.toString.call(t)}function $o(t){return"undefined"!=typeof Buffer&&Buffer.isBuffer(t)}function Ho(t,n){return{status:!0,index:t,value:n,furthest:-1,expected:[]}}function Jo(t,n){return Uo(n)||(n=[n]),{status:!1,index:-1,value:null,furthest:t,expected:n}}function zo(t,n){if(!n)return t;if(t.furthest>n.furthest)return t;var e=t.furthest===n.furthest?function(t,n){for(var e={},r=0;r<t.length;r++)e[t[r]]=!0;for(var o=0;o<n.length;o++)e[n[o]]=!0;var i=[];for(var s in e)({}).hasOwnProperty.call(e,s)&&i.push(s);return i.sort(),i}(t.expected,n.expected):n.expected;return{status:t.status,index:t.index,value:t.value,furthest:n.furthest,expected:e}}function Vo(t,n){if($o(t))return{offset:n,line:-1,column:-1};var e=t.slice(0,n).split("\n");return{offset:n,line:e.length,column:e[e.length-1].length+1}}function Wo(t){if(!Lo(t))throw new Error("not a parser: "+t)}function Ko(t,n){return"string"==typeof t?t.charAt(n):t[n]}function Xo(t){if("number"!=typeof t)throw new Error("not a number: "+t)}function Zo(t){if(!(t instanceof RegExp))throw new Error("not a regexp: "+t);for(var n=oi(t),e=0;e<n.length;e++){var r=n.charAt(e);if("i"!==r&&"m"!==r&&"u"!==r)throw new Error('unsupported regexp flag "'+r+'": '+t)}}function Qo(t){if("function"!=typeof t)throw new Error("not a function: "+t)}function Yo(t){if("string"!=typeof t)throw new Error("not a string: "+t)}function ti(t,n){return new Array(n+1).join(t)}function ni(t,n,e){var r=n-t.length;return r<=0?t:ti(e,r)+t}function ei(t,n,e,r){return{from:t-n>0?t-n:0,to:t+e>r?r:t+e}}function ri(t,n){var e,r,o,i,s,u=n.index,c=u.offset,a=1;if(c===t.length)return"Got the end of the input";if($o(t)){var l=c-c%8,f=c-l,h=ei(l,40,40,t.length),d=Bo((function(t){return Bo((function(t){return ni(t.toString(16),2,"0")}),t)}),function(t,n){var e=t.length,r=[],o=0;if(e<=8)return[t.slice()];for(var i=0;i<e;i++)r[o]||r.push([]),r[o].push(t[i]),(i+1)%8==0&&o++;return r}(t.slice(h.from,h.to).toJSON().data));i=function(t){return 0===t.from&&1===t.to?{from:t.from,to:t.to}:{from:t.from/8,to:Math.floor(t.to/8)}}(h),r=l/8,e=3*f,f>=4&&(e+=1),a=2,o=Bo((function(t){return t.length<=4?t.join(" "):t.slice(0,4).join(" ")+"  "+t.slice(4).join(" ")}),d),(s=(8*(i.to>0?i.to-1:i.to)).toString(16).length)<2&&(s=2)}else{var g=t.split(/\r\n|[\n\r\u2028\u2029]/);e=u.column-1,r=u.line-1,i=ei(r,2,3,g.length),o=g.slice(i.from,i.to),s=i.to.toString().length}var p=r-i.from;return $o(t)&&(s=(8*(i.to>0?i.to-1:i.to)).toString(16).length)<2&&(s=2),qo((function(n,r,o){var u,c=o===p,l=c?"> ":"  ";return u=$o(t)?ni((8*(i.from+o)).toString(16),s,"0"):ni((i.from+o+1).toString(),s," "),[].concat(n,[l+u+" | "+r],c?["  "+ti(" ",s)+" | "+ni("",e," ")+ti("^",a)]:[])}),[],o).join("\n")}function oi(t){var n=""+t;return n.slice(n.lastIndexOf("/")+1)}function ii(t){return RegExp("^(?:"+t.source+")",oi(t))}function si(){for(var t=[].slice.call(arguments),n=t.length,e=0;e<n;e+=1)Wo(t[e]);return _o((function(e,r){for(var o,i=new Array(n),s=0;s<n;s+=1){if(!(o=zo(t[s]._(e,r),o)).status)return o;i[s]=o.value,r=o.index}return zo(Ho(r,i),o)}))}function ui(){var t=[].slice.call(arguments);if(0===t.length)throw new Error("seqMap needs at least one argument");var n=t.pop();return Qo(n),si.apply(null,t).map((function(t){return n.apply(null,t)}))}function ci(){var t=[].slice.call(arguments),n=t.length;if(0===n)return di("zero alternates");for(var e=0;e<n;e+=1)Wo(t[e]);return _o((function(n,e){for(var r,o=0;o<t.length;o+=1)if((r=zo(t[o]._(n,e),r)).status)return r;return r}))}function ai(t,n){return Wo(t),Wo(n),ui(t,n.then(t).many(),(function(t,n){return[t].concat(n)}))}function li(t){Yo(t);var n="'"+t+"'";return _o((function(e,r){var o=r+t.length,i=e.slice(r,o);return i===t?Ho(o,i):Jo(r,n)}))}function fi(t,n){Zo(t),arguments.length>=2?Xo(n):n=0;var e=ii(t),r=""+t;return _o((function(t,o){var i=e.exec(t.slice(o));if(i){if(0<=n&&n<=i.length){var s=i[0],u=i[n];return Ho(o+s.length,u)}return Jo(o,"valid match group (0 to "+i.length+") in "+r)}return Jo(o,r)}))}function hi(t){return _o((function(n,e){return Ho(e,t)}))}function di(t){return _o((function(n,e){return Jo(e,t)}))}function gi(t){if(Lo(t))return _o((function(n,e){var r=t._(n,e);return r.index=e,r.value="",r}));if("string"==typeof t)return gi(li(t));if(t instanceof RegExp)return gi(fi(t));throw new Error("not a string, regexp, or parser: "+t)}function pi(t){return Qo(t),_o((function(n,e){var r=Ko(n,e);return e<n.length&&t(r)?Ho(e+1,r):Jo(e,"a character/byte matching "+t)}))}jo.parse=function(t){if("string"!=typeof t&&!$o(t))throw new Error(".parse must be called with a string or Buffer as its argument");var n=this.skip(mi)._(t,0);return n.status?{status:!0,value:n.value}:{status:!1,index:Vo(t,n.furthest),expected:n.expected}},jo.tryParse=function(t){var n=this.parse(t);if(n.status)return n.value;var e,r,o,i=(e=t,r=n,["\n","-- PARSING FAILED "+ti("-",50),"\n\n",ri(e,r),"\n\n",(o=r.expected,1===o.length?"Expected:\n\n"+o[0]:"Expected one of the following: \n\n"+o.join(", ")),"\n"].join("")),s=new Error(i);throw s.type="ParsimmonError",s.result=n,s},jo.or=function(t){return ci(this,t)},jo.trim=function(t){return this.wrap(t,t)},jo.wrap=function(t,n){return ui(t,this,n,(function(t,n){return n}))},jo.thru=function(t){return t(this)},jo.then=function(t){return Wo(t),si(this,t).map((function(t){return t[1]}))},jo.many=function(){var t=this;return _o((function(n,e){for(var r=[],o=void 0;;){if(!(o=zo(t._(n,e),o)).status)return zo(Ho(e,r),o);if(e===o.index)throw new Error("infinite loop detected in .many() parser --- calling .many() on a parser which can accept zero characters is usually the cause");e=o.index,r.push(o.value)}}))},jo.tieWith=function(t){return Yo(t),this.map((function(n){if(function(t){if(!Uo(t))throw new Error("not an array: "+t)}(n),n.length){Yo(n[0]);for(var e=n[0],r=1;r<n.length;r++)Yo(n[r]),e+=t+n[r];return e}return""}))},jo.tie=function(){return this.tieWith("")},jo.times=function(t,n){var e=this;return arguments.length<2&&(n=t),Xo(t),Xo(n),_o((function(r,o){for(var i=[],s=void 0,u=void 0,c=0;c<t;c+=1){if(u=zo(s=e._(r,o),u),!s.status)return u;o=s.index,i.push(s.value)}for(;c<n&&(u=zo(s=e._(r,o),u),s.status);c+=1)o=s.index,i.push(s.value);return zo(Ho(o,i),u)}))},jo.result=function(t){return this.map((function(){return t}))},jo.atMost=function(t){return this.times(0,t)},jo.atLeast=function(t){return ui(this.times(t),this.many(),(function(t,n){return t.concat(n)}))},jo.map=function(t){Qo(t);var n=this;return _o((function(e,r){var o=n._(e,r);return o.status?zo(Ho(o.index,t(o.value)),o):o}))},jo.contramap=function(t){Qo(t);var n=this;return _o((function(e,r){var o=n.parse(t(e.slice(r)));return o.status?Ho(r+e.length,o.value):o}))},jo.promap=function(t,n){return Qo(t),Qo(n),this.contramap(t).map(n)},jo.skip=function(t){return si(this,t).map((function(t){return t[0]}))},jo.mark=function(){return ui(wi,this,wi,(function(t,n,e){return{start:t,value:n,end:e}}))},jo.node=function(t){return ui(wi,this,wi,(function(n,e,r){return{name:t,value:e,start:n,end:r}}))},jo.sepBy=function(t){return function(t,n){return ai(t,n).or(hi([]))}(this,t)},jo.sepBy1=function(t){return ai(this,t)},jo.lookahead=function(t){return this.skip(gi(t))},jo.notFollowedBy=function(t){return this.skip((Wo(n=t),_o((function(t,e){var r=n._(t,e),o=t.slice(e,r.index);return r.status?Jo(e,'not "'+o+'"'):Ho(e,null)}))));var n},jo.desc=function(t){Uo(t)||(t=[t]);var n=this;return _o((function(e,r){var o=n._(e,r);return o.status||(o.expected=t),o}))},jo.fallback=function(t){return this.or(hi(t))},jo.ap=function(t){return ui(t,this,(function(t,n){return t(n)}))},jo.chain=function(t){var n=this;return _o((function(e,r){var o=n._(e,r);return o.status?zo(t(o.value)._(e,o.index),o):o}))},jo.concat=jo.or,jo.empty=function(){return di("fantasy-land/empty")},jo.of=hi,jo["fantasy-land/ap"]=jo.ap,jo["fantasy-land/chain"]=jo.chain,jo["fantasy-land/concat"]=jo.concat,jo["fantasy-land/empty"]=jo.empty,jo["fantasy-land/of"]=jo.of,jo["fantasy-land/map"]=jo.map;const wi=_o((function(t,n){return Ho(n,Vo(t,n))})),mi=(_o((function(t,n){return n>=t.length?Jo(n,"any character/byte"):Ho(n+1,Ko(t,n))})),_o((function(t,n){return Ho(t.length,t.slice(n))})),_o((function(t,n){return n<t.length?Jo(n,"EOF"):Ho(n,null)}))),yi=fi(/[0-9]/).desc("a digit"),vi=(fi(/[0-9]*/).desc("optional digits"),fi(/[a-z]/i).desc("a letter"),fi(/[a-z]*/i).desc("optional letters"),fi(/\s*/).desc("optional whitespace")),Si=(fi(/\s+/).desc("whitespace"),li("\r")),bi=li("\n"),Ci=ci(li("\r\n"),bi,Si).desc("newline");function xi(t){return t.many()}ci(Ci,mi);const Ei=function(t,n){arguments.length<2&&(n=t,t=void 0);var e=_o((function(t,r){return e._=n()._,e._(t,r)}));return t?e.desc(t):e},Ii=yi;function Di(t,n){return n.sepBy(t)}function Oi(t,n,e){return r=n,o=e,t.then(o).skip(r);var r,o}function Mi(t,n){return n.map(t)}function Ti(t){return function(t,n){if(kt(n))throw new Error("Collection was empty.");return $t(t,qt(n),Bt(n))}(((t,n)=>t.or(n)),t)}xi(Ii);const Fi=pi,ki=li,Pi=vi;function Gi(t){return function(t,n){return n.atLeast(1)}(0,t)}function Ai(t,n){return Mi((t=>n),ki(t))}const Ni=si;function Ri(t){return t.map((t=>et("",t)))}const _i=si;function ji(t){const n=new $(0);if(function(t,n){if(null!=t&&/\S/.test(t)){const e=+t.replace("_","");if(!Number.isNaN(e))return n.contents=e,!0}return!1}(t,n))return n.contents;throw new Error("Input string was not in a correct format.")}class qi extends L{constructor(t,...n){super(),this.tag=0|t,this.fields=n}cases(){return["JNumber","JString","JBool","JNull","JArray","JObject"]}}const Bi=Mi((t=>ji(t)),Ri(Gi(Ii))),Li=Mi((t=>-t[1]),Ni(ki("-"),Bi)),Ui=Mi((t=>{const n=t[0];return ji(et("",[""===n?"0":n,t[1],t[2]]))}),_i(Ri(xi(Ii)),ki("."),Ri(Gi(Ii)))),$i=Mi((t=>-t[1]),Ni(ki("-"),Ui)),Hi=Mi((t=>new qi(0,t)),Ti(Vt([Ui,$i,Bi,Li]))),Ji=Ti(Vt([Ai("true",new qi(2,!0)),Ai("false",new qi(2,!1))])),zi=Ai("null",new qi(3)),Vi=(()=>{const t=Mi((t=>{switch(t){case"b":return"\b";case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"\t";default:return t}}),function(t){for(var n=t.split(""),e=0;e<n.length;e++)n[e]="'"+n[e]+"'";return pi((function(n){return t.indexOf(n)>=0})).desc(n)}('"\\/bfnrt')),n=Ri(xi((e=Mi((t=>t[1]),Ni(ki("\\"),t)),Fi((t=>'"'!==t&&"\\"!==t)).or(e))));var e;return Oi(ki('"'),ki('"'),n)})();function Wi(t){return Oi(Pi,Pi,t)}const Ki=Ti(Wt((t=>Wi(t)),Vt([zi,Ji,Hi,Vi.map((t=>new qi(1,t)))]))),Xi=Wi(ki(",")),Zi=new u((function(){return Ei((()=>Ti(Vt([Ki,Mi((t=>new qi(4,Vt(t))),Oi(Wi(ki("[")),Wi(ki("]")),Di(Xi,Zi.Value))),Mi((t=>new qi(5,function(t){const n=Kt();return Cr(n,pr(n,t))}(Vt(t)))),Oi(Wi(ki("{")),Wi(ki("}")),Di(Xi,Mi((t=>[t[0],t[2]]),_i(Wi(Vi),Wi(ki(":")),Wi(Zi.Value))))))]))))}));Wi(Zi.Value);class Qi extends U{constructor(t,n){super(),this.bound=0|t,this.digits=n}}function Yi(t,n){for(;;){const e=t,r=n;if(0===r)return 1;if(r%2!=0)return e*Yi(e*e,~~(r/2))|0;t=e*e,n=~~(r/2)}}function ts(t){return t.bound}function ns(t,n){return t.digits[n]}function es(t,n){return Ro(ns(t,n),!1,2)}function rs(t,n,e){t.digits[n]=0|e}function os(t,n){for(;;){const e=t,r=n;if(0===r)return Go(1,0,!1);if(r%2!=0)return Mo(e,os(Mo(e,e),~~(r/2)));t=Mo(e,e),n=~~(r/2)}}function is(t,n){for(;;){const e=t,r=n;if(0===r)return 1;if(r%2!=0)return e*is(e*e,~~(r/2))|0;t=e*e,n=~~(r/2)}}Go(2013265921,0,!1),Go(2013265921,0,!0),Dt(28,(t=>Yi(2,t)),Int32Array);const ss=16777216,us=Go(16777216,0,!1),cs=Go(16777215,0,!1);function as(t){return new Qi(t,new Int32Array(t))}function ls(t){const n=0|((t,n)=>{for(;;){const e=t,r=n;if(-1===r||0!==e[r])return r+1|0;t=e,n=r-1}})(t.digits,t.bound-1);return t.bound=0|n,t}function fs(t){const n=0|(t<0?0:t);if(n<ss){const t=as(1);return t.digits[0]=0|n,ls(t)}{const t=as(2);for(let e=0;e<=1;e++)t.digits[e]=~~(n/is(ss,e))%ss|0;return ls(t)}}function hs(t){if(1===t.bound)return 0|t.digits[0];{let n=0;for(let e=t.bound-1;e>=0;e--)n=t.digits[e]+ss*n|0;return 0|n}}Go(16777215,0,!0);const ds=fs(1),gs=fs(0);function ps(t){return t.bound-1}function ws(t){return 0===t.bound}function ms(t,n){return-1===function(t,n){return t.bound<n.bound?-1:t.bound>n.bound?1:0|((t,n,e)=>{for(;;){const r=t,o=n,i=e;if(-1===i)return 0;if(r[i]!==o[i])return r[i]<o[i]?-1:1;t=r,n=o,e=i-1}})(t.digits,n.digits,t.bound-1)}(t,n)}function ys(t,n,e){for(;;){const r=t,o=n,i=e;if(!(Po(o,Go(0,0,!1))>0))break;{const s=Oo(es(r,i),o);rs(r,i,~~Ao(ko(s,cs))),t=r,n=To(s,us),e=i+1}}}function vs(t,n){const e=0|ts(t),r=as(e+1),o=Ro(n,!1,2);let i=Go(0,0,!1);for(let n=0;n<=e-1;n++){const e=Oo(Oo(i,es(r,n)),Mo(es(t,n),o));rs(r,n,~~Ao(ko(e,cs))),i=To(e,us)}return ys(r,i,e),ls(r)}class Ss extends U{constructor(t,n,e,r,o,i,s){super(),this.bigL=0|t,this.twoToBigL=0|n,this.k=0|e,this.bigK=0|r,this.bigN=0|o,this.split=0|i,this.splits=s}}function bs(t,n,e,r){return new Ss(t,is(2,t),n,e,r,~~(24/t),Dt(~~(24/t),(n=>is(2,t*n)),Int32Array))}const Cs=[bs(1,28,268435456,268435456),bs(2,26,67108864,134217728),bs(3,24,16777216,50331648),bs(4,22,4194304,16777216),bs(5,20,1048576,5242880),bs(6,18,262144,1572864),bs(7,16,65536,458752),bs(8,14,16384,131072),bs(9,12,4096,36864),bs(10,10,1024,10240),bs(11,8,256,2816),bs(12,6,64,768),bs(13,4,16,208)];function xs(t,n){return function(t,n){const e=1===ts(t),r=1===ts(n);return e&&r?function(t,n){const e=as(2),r=Mo(Ro(t,!1,2),Ro(n,!1,2));return rs(e,0,~~Ao(ko(r,cs))),rs(e,1,~~Ao(To(r,us))),ls(e)}(ns(t,0),ns(n,0)):e?vs(n,ns(t,0)):r?vs(t,ns(n,0)):function(t,n){const e=as(t.bound+n.bound),r=e.digits;for(let o=0;o<=t.bound-1;o++){const i=Ro(t.digits[o],!1,2);let s=Go(0,0,!1),u=o;for(let t=0;t<=n.bound-1;t++){const e=Ro(n.digits[t],!1,2),o=Oo(Oo(Ro(r[u],!1,2),s),Mo(i,e));r[u]=0|~~Ao(ko(o,cs)),s=To(o,us),u=u+1|0}ys(e,s,u)}return ls(e)}(t,n)}(t,n)}function Es(t,n,e,r){const o=[t.digits,ps(t)],i=o[0],s=[e.digits,ps(e)],u=0|s[1],c=s[0],a=Ro(n,!1,2);let l=0,f=Mo(a,Ro(c[0],!1,2));for(;Po(f,Go(0,0,!1))>0||l<u;){if(l>o[1])throw new Error("scaleSubInPlace: pre-condition did not apply, result would be -ve");let t=~~Ao(ko(f,cs)),n=To(f,us);t<=i[l+r]?i[l+r]=i[l+r]-t|0:(i[l+r]=i[l+r]+(ss-t)|0,n=Oo(n,Go(1,0,!1))),f=l<u?Oo(n,Mo(a,Ro(c[l+1],!1,2))):n,l=l+1|0}ls(t)}function Is(t,n,e,r){const o=[t.digits,ps(t)],i=o[0],s=[e.digits,ps(e)],u=0|s[1],c=s[0],a=Ro(n,!1,2);let l=0,f=Mo(a,Ro(c[0],!1,2));for(;Po(f,Go(0,0,!1))>0||l<u;){if(l>o[1])throw new Error("scaleSubInPlace: pre-condition did not apply, result would be -ve");let t=~~Ao(ko(f,cs)),n=To(f,us);t<ss-i[l+r]?i[l+r]=i[l+r]+t|0:(i[l+r]=t-(ss-i[l+r])|0,n=Oo(n,Go(1,0,!1))),f=l<u?Oo(n,Mo(a,Ro(c[l+1],!1,2))):n,l=l+1|0}ls(t)}function Ds(t,n,e){const r=[ps(n),ps(t)],o=0|r[1],i=0|r[0];if(o<i+e)return 0;{const r=[n.digits,t.digits],a=r[1],l=r[0],f=0|(0===i?o===e?~~(a[e]/l[0]):~~Ao(To(Oo(Mo(Ro(a[o],!1,2),us),Ro(a[o-1],!1,2)),Ro(l[0],!1,2))):o===i+e?~~(a[o]/(l[i]+1)):~~Ao(To(Oo(Mo(Ro(a[o],!1,2),us),Ro(a[o-1],!1,2)),Oo(Ro(l[i],!1,2),Go(1,0,!1)))));return 0===f?1!=(u=e,c=t,0,(s=n).bound+u<c.bound+0?-1:s.bound+u>c.bound+u?1:0|((t,n,e)=>{t:for(;;){const r=t,o=n,i=e;if(-1===i)return 0;{const s=0|(i<u?0:r[i-u]),c=0|(i<0?0:o[i-0]);if(s===c){t=r,n=o,e=i-1;continue t}return s<c?-1:1}}})(s.digits,c.digits,s.bound+u-1))?1:0:0|f}var s,u,c}function Os(t,n){if(ws(n))throw new Error;if(ps(t)<ps(n))return[gs,t];{const e=function(t){return new Qi(t.bound,t.digits.slice())}(t),r=as(ps(t)-ps(n)+1+1);let o=ps(t);const i=0|ps(n);let s=o-i;const u=t=>{};let c=!1;for(;!c;){u([r,e,s,o]);const t=0|Ds(e,n,s);t>0?(Es(e,t,n,s),Is(r,t,ds,s),u([r,e,s,o])):(c=0===t&&0===s,c||(o===i+s?(u([r,e,s-1,o]),s=s-1|0):(u([r,e,s-1,o-1]),s=s-1|0,o=o-1|0)))}return[ls(r),ls(e)]}}function Ms(t){return((n,e,r)=>{for(;;){const o=n,i=e,s=r;if(s===t.bound)return o;n=o+i*t.digits[s],e=i*ss,r=s+1}})(0,1,0)}function Ts(t){return fs(t)}function Fs(t){const n=0|ps(t),e=(t,n,r,o)=>{t:for(;;){const i=t,s=n,u=r,c=o;if(jt(c)){const t=0|hs(u);return i&&0===t?s:Rt(l(t),s)}{const a=Bt(c),l=Os(u,qt(c)[1]),f=l[1],h=l[0];if(i&&ws(h)){t=i,n=s,r=f,o=a;continue t}t=i,n=e(!1,s,f,a),r=h,o=a;continue t}}},r=e(!0,Nt(),t,((t,e,r)=>{for(;;){const o=t,i=e,s=r;if(ps(s)>n)return Rt([i,s],o);t=Rt([i,s],o),e=i+1,r=xs(s,s)}})(Nt(),0,fs(10)));return jt(r)?"0":et("",Ut(r))}function ks(t){const n=t;return 0<n.bound?0|n.digits[0]:0}Dt(24,(t=>is(2,t)-1),Int32Array),Dt(24,(t=>is(2,t)),Int32Array),Dt(24,(t=>os(Go(2,0,!1),t))),Cs[0].bigN,fs(2);class Ps extends U{constructor(t,n){super(),this.signInt=0|t,this.v=n}toString(){const t=this;switch(0|Ns(t)){case-1:return ws(Rs(t))?"0":"-"+Fs(Rs(t));case 0:return"0";case 1:return Fs(Rs(t));default:throw new Error("signs should be +/- 1 or 0")}}Equals(t){return t instanceof Ps&&_s(this,t)}GetHashCode(){return 0|(0===Ns(this)?1:Ns(this)+function(t){let n=0;for(let e=0;e<=t.bound-1;e++)n=t.digits[e]+(n<<3)|0;return 0|n}(Rs(this))|0)}toJSON(t){return B(this)}CompareTo(t){if(t instanceof Ps)return 0|(function(t,n){const e=[Ns(t),Ns(n)];let r;switch(r=-1===e[0]?-1===e[1]?1:0===e[1]?8:1===e[1]?3:9:0===e[0]?-1===e[1]?6:0===e[1]?4:1===e[1]?5:9:1===e[0]?-1===e[1]?2:0===e[1]?7:1===e[1]?0:9:9,r){case 0:return ms(Rs(t),Rs(n));case 1:return ms(Rs(n),Rs(t));case 2:return!1;case 3:return!ws(Rs(t))||!ws(Rs(n));case 4:return!1;case 5:return!ws(Rs(n));case 6:case 7:return!1;case 8:return!ws(Rs(t));case 9:throw new Error("signs should be +/- 1 or 0\\nParameter name: x")}}(this,n=t)?-1:_s(this,n)?0:1);throw new Error("the objects are not comparable\\nParameter name: obj");var n}}function Gs(t,n){return new Ps(t,n)}function As(t){return function(t){return t.bound<=1}(t)&&ks(t)<Ps.smallLim?Ps.smallPosTab[ks(t)]:t}function Ns(t){return t.signInt}function Rs(t){return t.v}function _s(t,n){const e=[Ns(t),Ns(n)];let r;switch(r=-1===e[0]?-1===e[1]?1:0===e[1]?8:1===e[1]?3:9:0===e[0]?-1===e[1]?6:0===e[1]?4:1===e[1]?5:9:1===e[0]?-1===e[1]?2:0===e[1]?7:1===e[1]?0:9:9,r){case 0:case 1:return o=Rs(t),i=Rs(n),o.bound===i.bound&&((t,n,e)=>{for(;;){const r=t,o=n,i=e;if(-1===i)return!0;if(r[i]!==o[i])return!1;t=r,n=o,e=i-1}})(o.digits,i.digits,o.bound-1);case 2:case 3:return!!ws(Rs(t))&&ws(Rs(n));case 4:return!0;case 5:case 6:return ws(Rs(n));case 7:case 8:return ws(Rs(t));case 9:throw new Error("signs should be +/- 1 or 0\\nParameter name: x")}var o,i}function js(t){return t>=0?Gs(1,As(Ts(t))):Gs(-1,As(-2147483648===t?function(t){return function(t){const n=Po(t,Go(0,0,!1))<0?Go(0,0,!1):t,e=as(3);for(let t=0;t<=2;t++)e.digits[t]=0|~~Ao((r=To(n,os(us,t)),o=us,$r(o)||(o=Zr(o)),Lr?Wr((r.unsigned?Lr.rem_u:Lr.rem_s)(r.low,r.high,o.low,o.high),Lr.get_high(),r.unsigned):Eo(r,Io(Do(r,o),o))));var r,o;return ls(e)}(t)}(Fo(Ro(t,!1,2))):Ts(-2147483648===(n=t)?n:-n)));var n}function qs(){return Ps.one}function Bs(){return Ps.zero}function Ls(t){return function(t){return new qr(function(t){switch(0|Ns(t)){case-1:return-Ms(Rs(t));case 0:return 0;case 1:return Ms(Rs(t));default:throw new Error("signs should be +/- 1 or 0\\nParameter name: x")}}(t))}(t)}function Us(t){return!!(null!=t&&function(t){return"object"==typeof t}(t)&&"signInt"in t&&"v"in t&&"digits"in t.v)&&"bound"in t.v}function $s(t){return null==t?JSON.stringify(null):JSON.stringify(t,((t,n)=>{let e;return Us(n)?Br(Ls(n)):n instanceof Date?P(n,"o"):"string"==typeof n?n:null!=(r=n)&&"object"==typeof r&&Symbol.iterator in r?Array.isArray(n)?n:Array.from(n):Us(n)?Br(Ls(n)):function(t){return t instanceof Date&&"offset"in t}(n)?(e=n,P(e,"O")):n;var r}),vt(0))}Ps.smallLim=4096,Ps.smallPosTab=Dt(Ps.smallLim,(t=>Ts(t))),Ps.one=js(1),Ps.two=js(2),Ps.zero=js(0),Bs(),qs(),Ps.two,Bs(),qs();class Hs extends U{constructor(t,n,e){super(),this.FieldName=t,this.FieldType=n,this.PropertyInfo=e}}class Js extends U{constructor(t,n,e){super(),this.CaseName=t,this.CaseTypes=n,this.Info=e}}class zs extends L{constructor(t,...n){super(),this.tag=0|t,this.fields=n}cases(){return["Unit","Char","String","UInt16","UInt32","UInt64","Int32","Bool","Float32","Float","Decimal","Short","Long","Byte","SByte","DateTime","DateTimeOffset","BigInt","TimeSpan","Guid","Object","Any","Async","Promise","Option","List","Set","Array","Seq","Tuple","Map","Dictionary","ResizeArray","HashSet","Func","Enum","Record","Union"]}}function Vs(t,n,e){return!!t.has(n)&&(e.contents=t.get(n),!0)}function Ws(t,n){if(t.has(n))return t.get(n);throw new Error(`The given key '${n}' was not present in the dictionary.`)}class Ks{constructor(t,n){const e=new $(null);this.comparer=n,e.contents=this,this.hashMap=new Map([]),this["init@8-1"]=1;const r=i(t);try{for(;r["System.Collections.IEnumerator.MoveNext"]();){const t=r["System.Collections.Generic.IEnumerator`1.get_Current"]();eu(e.contents,t[0],t[1])}}finally{r.Dispose()}}get[Symbol.toStringTag](){return"Dictionary"}toJSON(t){return Array.from(this)}"System.Collections.IEnumerable.GetEnumerator"(){return i(this)}GetEnumerator(){return i(on(this.hashMap.values()))}[Symbol.iterator](){return s(this.GetEnumerator())}"System.Collections.Generic.ICollection`1.Add2B595"(t){eu(this,t[0],t[1])}"System.Collections.Generic.ICollection`1.Clear"(){Qs(this)}"System.Collections.Generic.ICollection`1.Contains2B595"(t){const n=Zs(this,t[0]);let e;switch(e=null!=n&&y(n[1],t[1])?0:1,e){case 0:return!0;case 1:return!1}}"System.Collections.Generic.ICollection`1.CopyToZ2E171D71"(t,n){var e;e=(e,r)=>{t[n+e]=r},hn(((t,n)=>(e(t,n),t+1|0)),0,this)}"System.Collections.Generic.ICollection`1.get_Count"(){return 0|Ys(this)}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!1}"System.Collections.Generic.ICollection`1.Remove2B595"(t){const n=Zs(this,t[0]);return null!=n&&(y(n[1],t[1])&&ou(this,t[0]),!0)}"System.Collections.Generic.IDictionary`2.Add5BDDA1"(t,n){eu(this,t,n)}"System.Collections.Generic.IDictionary`2.ContainsKey2B595"(t){return ru(this,t)}"System.Collections.Generic.IDictionary`2.get_Item2B595"(t){return tu(this,t)}"System.Collections.Generic.IDictionary`2.set_Item5BDDA1"(t,n){nu(this,t,n)}"System.Collections.Generic.IDictionary`2.get_Keys"(){const t=this;return cn(rn((()=>gn((t=>t[0]),t))))}"System.Collections.Generic.IDictionary`2.Remove2B595"(t){return ou(this,t)}"System.Collections.Generic.IDictionary`2.TryGetValue23A0B95A"(t,n){const e=Zs(this,t);if(null!=e){const t=e;return n.contents=t[1],!0}return!1}"System.Collections.Generic.IDictionary`2.get_Values"(){const t=this;return cn(rn((()=>gn((t=>t[1]),t))))}get size(){return 0|Ys(this)}clear(){Qs(this)}delete(t){return ou(this,t)}entries(){return gn((t=>[t[0],t[1]]),this)}get(t){return tu(this,t)}has(t){return ru(this,t)}keys(){return gn((t=>t[0]),this)}set(t,n){return nu(this,t,n),this}values(){return gn((t=>t[1]),this)}forEach(t,n){const e=this;dn((n=>{t(n[1],n[0],e)}),e)}}function Xs(t,n){const e=0|t.comparer.GetHashCode(n);let r,o=null;return r=[Vs(t.hashMap,e,new $((()=>o),(t=>{o=t}))),o],r[0]?[!0,e,r[1].findIndex((e=>t.comparer.Equals(n,e[0])))]:[!1,e,-1]}function Zs(t,n){const e=Xs(t,n);let r;switch(r=e[0]&&e[2]>-1?0:1,r){case 0:return Ws(t.hashMap,e[1])[e[2]];case 1:return}}function Qs(t){t.hashMap.clear()}function Ys(t){let n=0,e=i(t.hashMap.values());try{for(;e["System.Collections.IEnumerator.MoveNext"]();)n=n+e["System.Collections.Generic.IEnumerator`1.get_Current"]().length|0}finally{e.Dispose()}return 0|n}function tu(t,n){const e=Zs(t,n);if(null!=e)return e[1];throw new Error("The item was not found in collection")}function nu(t,n,e){const r=Xs(t,n);let o;switch(o=r[0]&&r[2]>-1?0:1,o){case 0:Ws(t.hashMap,r[1])[r[2]]=[n,e];break;case 1:r[0]?Ws(t.hashMap,r[1]).push([n,e]):t.hashMap.set(r[1],[[n,e]])}}function eu(t,n,e){const r=Xs(t,n);let o;switch(o=r[0]&&r[2]>-1?0:1,o){case 0:{const t=tt("An item with the same key has already been added. Key: {0}",n);throw new Error(t)}case 1:r[0]?Ws(t.hashMap,r[1]).push([n,e]):t.hashMap.set(r[1],[[n,e]])}}function ru(t,n){const e=Xs(t,n);let r;switch(r=e[0]&&e[2]>-1?0:1,r){case 0:return!0;case 1:return!1}}function ou(t,n){const e=Xs(t,n);let r;switch(r=e[0]&&e[2]>-1?0:1,r){case 0:return Ws(t.hashMap,e[1]).splice(e[2],1),!0;case 1:return!1}}function iu(t){return cn(rn((()=>{if(Ke(t)){const n=function(t){if(Ke(t)&&null!=t.generics){const n=t.generics;return[n[0],n[1]]}throw new Error(`${t.fullname} is not an F# function type`)}(t);return fn(iu(n[0]),rn((()=>iu(n[1]))))}return un(t)})))}function su(t,n){return t.Value}function uu(t){let n,e,r,o,i,s,c,a,l,f,h,d,g,p,w,m;const y=function(t){switch(He(t)){case"System.String":return new zs(2);case"System.Char":return new zs(1);case"System.Int16":return new zs(11);case"System.Int32":return new zs(6);case"Microsoft.FSharp.Core.int64`1":case"System.Int64":return new zs(12);case"System.UInt16":return new zs(3);case"System.UInt32":return new zs(4);case"System.UInt64":return new zs(5);case"System.DateTime":return new zs(15);case"System.TimeSpan":return new zs(18);case"System.DateTimeOffset":return new zs(16);case"System.Boolean":return new zs(7);case"System.Single":return new zs(8);case"System.Double":return new zs(9);case"Microsoft.FSharp.Core.decimal`1":case"System.Decimal":return new zs(10);case"System.Numerics.BigInteger":return new zs(17);case"Microsoft.FSharp.Core.Unit":return new zs(0);case"System.Guid":return new zs(19);case"System.Byte":return new zs(13);case"System.SByte":return new zs(14);case"System.Object":return new zs(20);default:return}}(t);if(null!=y)return y;{const y=Ke(v=t)?iu(v):void 0;if(null!=y){const t=y;return new zs(34,(n=new u((()=>It((t=>au(t)),t))),()=>su(n)))}{const n=function(t){return function(t){return t instanceof je?null!=t.fields:t instanceof U}(t)?It((t=>[t,$e(t),t[1]]),Ve(t)):void 0}(t);if(null!=n){const e=n,r=new u((()=>[cn(rn((()=>pn((t=>un(new Hs(t[1],au(t[2]),t[0]))),e)))),t]));return new zs(36,(()=>su(r)))}{const n=function(t){return function(t){return t instanceof je?null!=t.cases:t instanceof L}(t)?It((t=>{return[$e(t),t,It((t=>t[1]),(n=t,null==n.fields?[]:n.fields))];var n}),ze(t)):void 0}(t);if(null!=n){const e=n,r=new u((()=>[cn(rn((()=>pn((t=>un(new Js(t[0],It((t=>au(t)),t[2]),t[1]))),e)))),t]));return new zs(37,(()=>su(r)))}{const n=function(t){return function(t){return null!=t.enumCases&&t.enumCases.length>0}(t)?function(t){var n;return null===(n=t.generics)||void 0===n?void 0:n[0]}(t):void 0}(t);if(null!=n){const r=n;return new zs(35,(e=new u((()=>[au(r),t])),()=>su(e)))}{const n=function(t){return 0===He(t).indexOf("Microsoft.FSharp.Collections.FSharpList`1")?qe(t)[0]:void 0}(t);if(null!=n){const t=n;return new zs(25,(r=new u((()=>au(t))),()=>su(r)))}{const n=function(t){return 0===He(t).indexOf("System.Collections.Generic.List")?qe(t)[0]:void 0}(t);if(null!=n){const t=n;return new zs(32,(o=new u((()=>au(t))),()=>su(o)))}{const n=function(t){return 0===He(t).indexOf("System.Collections.Generic.HashSet")?qe(t)[0]:void 0}(t);if(null!=n){const t=n;return new zs(33,(i=new u((()=>au(t))),()=>su(i)))}{const n=function(t){return function(t){return null!=Je(t)}(t)?Je(t):void 0}(t);if(null!=n){const t=n;return new zs(27,(s=new u((()=>au(t))),()=>su(s)))}{const n=function(t){return We(t)?function(t){if(We(t)&&null!=t.generics)return t.generics;throw new Error(`${t.fullname} is not a tuple type`)}(t):void 0}(t);if(null!=n){const t=n;return new zs(29,(c=new u((()=>It((t=>au(t)),t))),()=>su(c)))}{const n=function(t){return 0===He(t).indexOf("Microsoft.FSharp.Core.FSharpOption`1")?qe(t)[0]:void 0}(t);if(null!=n){const t=n;return new zs(24,(a=new u((()=>au(t))),()=>su(a)))}{const n=function(t){return 0===He(t).indexOf("System.Nullable`1")?qe(t)[0]:void 0}(t);if(null!=n){const t=n;return new zs(24,(l=new u((()=>au(t))),()=>su(l)))}{const n=function(t){return 0===He(t).indexOf("Microsoft.FSharp.Collections.FSharpSet`1")?qe(t)[0]:void 0}(t);if(null!=n){const t=n;return new zs(26,(f=new u((()=>au(t))),()=>su(f)))}{const n=function(t){if(0===He(t).indexOf("Microsoft.FSharp.Collections.FSharpMap`2")){const n=qe(t);return[n[0],n[1]]}}(t);if(null!=n){const t=n[0],e=n[1];return new zs(30,(h=new u((()=>[au(t),au(e)])),()=>su(h)))}{const n=function(t){if(0===He(t).indexOf("System.Collections.Generic.Dictionary")){const n=qe(t);return[n[0],n[1]]}}(t);if(null!=n){const t=n[0],e=n[1];return new zs(31,(d=new u((()=>[au(t),au(e),e])),()=>su(d)))}{const n=function(t){return 0===He(t).indexOf("System.Collections.Generic.IEnumerable`1")?qe(t)[0]:void 0}(t);if(null!=n){const t=n;return new zs(28,(g=new u((()=>au(t))),()=>su(g)))}{const n=function(t){return 0===He(t).indexOf("Microsoft.FSharp.Control.FSharpAsync`1")?qe(t)[0]:void 0}(t);if(null!=n){const t=n;return new zs(22,(p=new u((()=>au(t))),()=>su(p)))}{const n=function(t){return 0===He(t).indexOf("Fable.Core.JS.Promise`1")?qe(t)[0]:void 0}(t);if(null!=n){const t=n;return new zs(23,(w=new u((()=>au(t))),()=>su(w)))}return new zs(21,(m=new u((()=>t)),()=>su(m)))}}}}}}}}}}}}}}}}}var v}const cu=new Ks([],{Equals:(t,n)=>Le(t,n),GetHashCode:t=>p(t)});function au(t){let n,e=null;if(n=[Vs(cu,t,new $((()=>e),(t=>{e=t}))),e],n[0])return n[1];{const n=uu(t);return"string"!=typeof(r=He(t))||0===r.length||nt(He(t),"`1[]")||nt(He(t),"`2[]")||cu.set(t,n),n}var r}function lu(t){switch(t.tag){case 0:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 15:case 16:case 17:case 19:case 24:return!0;default:return!1}}function fu(t){return 37===t.tag&&t.fields[0]()[0].every((t=>0===t.CaseTypes.length))}function hu(t){return 0===t.indexOf('"')&&nt(t,'"')}function du(t){return'"'+t+'"'}new Function("try {return this===window;}catch(e){ return false;}")();const gu=function(t){var n=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return n.lastIndex=0,n.test(t)?'"'+t.replace(n,(function(t){var n=e[t];return"string"==typeof n?n:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+t+'"'};function pu(t,n){let e,r,o;t:for(;;){const i=t,s=n;switch(s.tag){case 2:{const t=i;return null==t?"null":gu(t)}case 0:return"null";case 9:case 8:return Number.isNaN(i)?gu("NaN"):i.toString();case 1:return gu(i);case 13:case 14:case 3:case 4:case 11:case 35:case 18:case 6:return l(i);case 5:case 12:return du(No(i));case 17:return du(B(i));case 10:return du(Br(i));case 7:return i?"true":"false";case 19:return du((e=i,e));case 15:return du((r=i,P(r,"O")));case 16:return du((o=i,P(o,"O")));case 36:return"{"+et(", ",It((t=>{const n=pu(Ze(i,t.PropertyInfo),t.FieldType);return Z(W('"%s": %s'))(t.FieldName)(n)}),s.fields[0]()[0]))+"}";case 32:{const t=s.fields[0]();return"["+et(", ",gn((n=>pu(n,t)),i))+"]"}case 33:{const t=s.fields[0]();return"["+et(", ",gn((n=>pu(n,t)),i))+"]"}case 26:{const t=s.fields[0]();return"["+et(", ",gn((n=>pu(n,t)),i))+"]"}case 27:{const t=s.fields[0]();return"["+et(", ",It((n=>pu(n,t)),i))+"]"}case 25:{const t=s.fields[0]();return"["+et(", ",Wt((n=>pu(n,t)),i))+"]"}case 28:{const t=s.fields[0]();return"["+et(", ",It((n=>pu(n,t)),cn(i)))+"]"}case 24:{const e=i;if(null!=e){t=St(e),n=s.fields[0]();continue t}return"null"}case 37:{const t=s.fields[0](),n=Xe(i,t[1]),e=n[0],r=n[1],o=t[0].find((t=>t.CaseName===$e(e))).CaseTypes;if(fu(s)||0===o.length)return du($e(e));if(1===o.length)return"{"+du($e(e))+": "+pu(r[0],o[0])+"}";{const t=et(", ",Et(((t,n)=>pu(r[t],n)),o));return"{"+du($e(e))+": ["+t+"] }"}}case 30:{const t=s.fields[0](),n=t[0],e=et(", ",It((e=>{const r=pu(e[0],n),o=pu(e[1],t[1]);return lu(n)||fu(n)?hu(r)?r+": "+o:gu(r)+": "+o:"["+r+", "+o+"]"}),function(t){const n=0|cr(t),e=xt(new Array(n),0,n,[null,null]);return gr(t,e,0),e}(i.tree)));return lu(n)||fu(n)?"{"+e+"}":"["+e+"]"}case 31:{const t=s.fields[0](),n=t[0],e=et(", ",gn((e=>{const r=[e[0],e[1]],o=pu(r[0],n),i=pu(r[1],t[1]);return lu(n)||fu(n)?hu(o)?o+": "+i:du(o)+": "+i:"["+o+", "+i+"]"}),i));return lu(n)||fu(n)?"{"+e+"}":"["+e+"]"}case 29:{const t=s.fields[0]();return 1===t.length?"["+pu(i,t[0])+"]":"["+et(", ",Et(((n,e)=>pu(e,t[n])),i))+"]"}case 20:case 21:return $s(i);default:return"null"}break}}function wu(t){}const mu=new class{constructor(t=!1){this._id=0,this._cancelled=t,this._listeners=new Map}get isCancelled(){return this._cancelled}cancel(){if(!this._cancelled){this._cancelled=!0;for(const[,t]of this._listeners)t()}}addListener(t){const n=this._id;return this._listeners.set(this._id++,t),n}removeListener(t){return this._listeners.delete(t)}register(t,n){const e=this,r=this.addListener(null==n?t:()=>t(n));return{Dispose(){e.removeListener(r)}}}};function yu(t,n){return new Promise(((e,r)=>function(t,n,e,r,o){"function"!=typeof n&&(o=n,n=void 0);const i=new Pn;t({onSuccess:n||wu,onError:e||wu,onCancel:r||wu,cancelToken:o||mu,trampoline:i})}(t,e,r,r,n||mu)))}function vu(t){return pu({event:"registerPropertyInspector",uuid:t},au(function(...t){return new je("",void 0,void 0,void 0,(()=>t))}(["event",Ue],["uuid",("System.Guid",new je("System.Guid",undefined,undefined,undefined))])))}class Su{constructor(t,n,e){this.port=0|t,this.uuid=n,this.messageHandler=e,this.msgQueue=Nt(),this.wsref=new $(void 0),function(t){const n=(e,r)=>{if(null==t.wsref.contents){const o=new WebSocket(r);t.wsref.contents=o,o.onerror=t=>{X(W("Socket had error: %A"))(t)},o.onopen=n=>{const e=B(n.currentTarget);X(W("Socket was opened, on open being called! Event Target: %A"))(e);const r=vu(t.uuid);t.msgQueue=Rt(r,t.msgQueue),X(W("Sending registration message")),Jt((t=>{o.send(t)}),Ht(t.msgQueue))},o.onclose=t=>{X(W("Socket was closed!")),window.setTimeout((()=>{n(e,r)}),e,void 0)},o.onmessage=n=>{const e=B(n.data);X(W("raw message from socket is %s"))(e),yu(function(t,n,e){return An.Delay((()=>An.Bind(t(e),(t=>{const e=t;return 1===e.tag?An.Return():(Jt(n,function(t){return Wt((n=>{const e=Fe(t).Device;return xe(n,Fe(t).Context,e)}),function(t){const n=t._eventsToSend;return null==n?Nt():n}(t))}(e.fields[0])),An.Zero())}))))}(t.messageHandler,(t=>{o.send(t)}),e)).then()}}};n(6e4,function(t){return Z(W("ws://127.0.0.1:%i"))(t)}(t.port))}(this)}}function bu(t){document.getElementById("last-generated-guid-output").value=t}function Cu(t){const n=vn("$",I(2,(t=>n=>Mn((t=>new Fn(t.Required.Field("lastGeneratedGuid",((t,n)=>function(t,n){if("string"==typeof n){let e,r="00000000-0000-0000-0000-000000000000";return e=[gt(n,new $((()=>r),(t=>{r=t}))),r],e[0]?new ot(0,e[1]):new ot(1,[t,new st(0,"a guid",n)])}return new ot(1,[t,new st(0,"a guid",n)])}(t,n))))),t,n))),t);if(1===n.tag)X(W("Error decoding: %A"))(n.fields[0]);else{const t=n.fields[0];X(W("Got custom property inspector settings: %A"))(t),bu(t.LastGeneratedGuid)}}function xu(t,n,e){return An.Delay((()=>(X(W("in send to PI handler")),Cu(t),An.ReturnFrom(n(e)))))}function Eu(t){X(W("In PI error handler, err is %A"))(t);const n=Z(W("In PI error handler, err is : %A"))(t);return t=>e=>function(t,n,e){return n(Re(t,e))}(n,t,e)}const Iu=(()=>{let t;const n=_t((t=function(t,n){const e=t;return r=>o=>Ae(e,I(3,(e=>{const r=e;return 15===r.tag?O(2,n,[r.fields[0]]):O(2,t,[new De(4,ve(r),"sendToPropertyInspector")])})),r,o)}(I(3,(t=>Eu(t))),((t,n,e)=>xu(t,n,e))),n=>function(t,n,e){return O(1,t,[O(1,n,[e])])}(I(2,Ne),I(2,t),n)));return t=>Ge(n,t)})();let Du=function(t){let n;return(t,e)=>e?void(n=t):n}();function Ou(t){return _e(I(2,Iu),t)}function Mu(t,n,e,r,o){const i=function(t,n,e){return new Su(t,n,e)}(t,n,(t=>Ou(t)));Du(i,!0)}EntryPoint=n})();